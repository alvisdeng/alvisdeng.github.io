<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Introduction to Numpy | 阿平的自我修养</title><meta name="keywords" content="Data"><meta name="author" content="阿平"><meta name="copyright" content="阿平"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="NumPy is the fundamental package for scientific computing in Python. It is a Python library that provides a multidimensional array object, various derived objects (such as masked arrays and matrices),">
<meta property="og:type" content="article">
<meta property="og:title" content="Introduction to Numpy">
<meta property="og:url" content="https://www.facequant.com/2020/08/18/Introduction-to-Numpy/index.html">
<meta property="og:site_name" content="阿平的自我修养">
<meta property="og:description" content="NumPy is the fundamental package for scientific computing in Python. It is a Python library that provides a multidimensional array object, various derived objects (such as masked arrays and matrices),">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/08/09/2sYXwjC1ZRBKmpl.jpg">
<meta property="article:published_time" content="2020-08-18T14:22:56.000Z">
<meta property="article:modified_time" content="2020-12-25T18:32:40.186Z">
<meta property="article:author" content="阿平">
<meta property="article:tag" content="Data">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/08/09/2sYXwjC1ZRBKmpl.jpg"><link rel="shortcut icon" href="/images/panda.png"><link rel="canonical" href="https://www.facequant.com/2020/08/18/Introduction-to-Numpy/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="_MQwHkUtYfuk8J0qAPSV-zpAugCAnNbea8RvdD-C5DA"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-153134572-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-153134572-1');
</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-12-26 02:32:40'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/images/human.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div id="body-wrap"><header class="no-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">阿平的自我修养</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Introduction to Numpy</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-18T14:22:56.000Z" title="发表于 2020-08-18 22:22:56">2020-08-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-12-25T18:32:40.186Z" title="更新于 2020-12-26 02:32:40">2020-12-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Tools/">Tools</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">15.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>66分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><p>NumPy is the fundamental package for scientific computing in Python. It is a Python library that provides a multidimensional array object, various derived objects (such as masked arrays and matrices), and an assortment of routines for fast operations on arrays, including mathematical, logical, shape manipulation, sorting, selecting, I/O, discrete Fourier transforms, basic linear algebra, basic statistical operations, random simulation and much more.</p>
<h2 id="Topic-1-Ndarray"><a href="#Topic-1-Ndarray" class="headerlink" title="Topic 1 Ndarray"></a>Topic 1 Ndarray</h2><p>NumPy 最重要的一个特点是其 N 维数组对象 ndarray, 它是<strong>一系列同类型数据</strong>的集合, 以 0 下标为开始进行集合中元素的索引. ndarray 有两个个重点:</p>
<ul>
<li>ndarray 对象是用于<strong>存放同类型元素</strong>的多维数组. </li>
<li>ndarray 中的<strong>每个元素</strong>在<strong>内存</strong>中都有<strong>相同存储大小的区域</strong>. </li>
</ul>
<blockquote>
<p>  创建一个 ndarray 只需要调用 Numpy 的 array 函数即可:</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.array(<span class="built_in">object</span>, dtype=<span class="literal">None</span>, copy=<span class="literal">True</span>, order=<span class="literal">None</span>, subok=<span class="literal">False</span>, ndmin=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>  <strong>参数说明:</strong></p>
<ul>
<li>object: 数组或嵌套的数列</li>
<li>dtype: 数组元素的数据类型, 可选</li>
<li>copy: 对象是否需要复制, 可选</li>
<li>order: 创建数组的样式, C 为行方向, F 为列方向, A 为任意方向 (默认)</li>
<li>subok: 默认返回一个与基类类型一致的数组</li>
<li>ndmin: 指定生成数组的最小维度</li>
</ul>
</blockquote>
<p>我们看几个实例:</p>
<p><strong>[例 1.1] 创建一维数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1,2,3]</span><br></pre></td></tr></table></figure>
<p><strong>[例 1.2] 创建二维数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[1,2]</span><br><span class="line"> [3,4]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 1.3] 指定最小维度</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],ndmin=<span class="number">2</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[1,2,3,4,5]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 1.4] 指定数据类型</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],dtype=<span class="built_in">complex</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1.+0.j 2.+0.j 3.+0.j]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-2-Data-Type"><a href="#Topic-2-Data-Type" class="headerlink" title="Topic 2 Data Type"></a>Topic 2 Data Type</h2><p>在这里我假设你已经有了一定的 python 的基础. Numpy 支持比 Python 更多种类的数组数据类型. 本节主要是介绍一下 Numpy 里面常用的数据类型.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool_</td>
<td>布尔型数据类型 (True 或者 False)</td>
</tr>
<tr>
<td>int_</td>
<td>默认的整数类型</td>
</tr>
<tr>
<td>intc</td>
<td>与 C 的 int 类型一样, 一般是 int32 或 int 64</td>
</tr>
<tr>
<td>intp</td>
<td>用于索引的整数类型 (类似于 C 的 ssize_t, 一般情况下仍然是 int32 或 int64)</td>
</tr>
<tr>
<td>int8</td>
<td>字节 ($-2^7\ to\ 2^7-1$)</td>
</tr>
<tr>
<td>int16</td>
<td>整数 ($-2^{15}\ to\ 2^{15}-1$)</td>
</tr>
<tr>
<td>int32</td>
<td>整数 ($-2^{31}\ to\ 2^{31}-1$)</td>
</tr>
<tr>
<td>int64</td>
<td>整数 ($-2^{63}\ to\ 2^{63}-1$)</td>
</tr>
<tr>
<td>uint8</td>
<td>无符号整数 ($2^8-1$)</td>
</tr>
<tr>
<td>uint16</td>
<td>无符号整数 ($2^{16}-1$)</td>
</tr>
<tr>
<td>uint32</td>
<td>无符号整数 ($2^{32}-1$)</td>
</tr>
<tr>
<td>uint64</td>
<td>无符号整数 ($2^{64}-1$)</td>
</tr>
<tr>
<td>float_</td>
<td>float64 类型的简写</td>
</tr>
<tr>
<td>float16</td>
<td>半精度浮点数, 包括: 1 个符号位, 5 个指数位, 10 个尾数位   — 见注[1]和[2]</td>
</tr>
<tr>
<td>float32</td>
<td>单精度浮点数, 包括: 1 个符号位, 8 个指数位, 23 个尾数位</td>
</tr>
<tr>
<td>float64</td>
<td>双精度浮点数, 包括: 1 个符号位, 11 个指数位, 52 个尾数位</td>
</tr>
<tr>
<td>complex_</td>
<td>complex128 类型的简写, 即 128 位复数</td>
</tr>
<tr>
<td>complex64</td>
<td>复数, 表示双 32 位浮点数 (实数部分和虚数部分)</td>
</tr>
<tr>
<td>complex128</td>
<td>复数, 表示双 64 位浮点数 (实数部分和虚数部分)</td>
</tr>
</tbody>
</table>
</div>
<p><strong>注:</strong></p>
<p>[1] 所有数字以二进制存储, 每个数字对应的二进制分为三段: 符号位、指数位、尾数位. 其中<strong>符号位</strong>是二进制表示中的第一位, 0 表示正数, 1 表示负数. <strong>指数位</strong>决定了数字的范围. <strong>尾数位</strong>决定了数字的精度.</p>
<p>[2] 半精度是英伟达在2002年搞出来的, 双精度和单精度是为了计算, 而半精度更多是为了降低数据传输和存储成本. </p>
<p><strong>数据类型对象 (dtype)</strong> 是用来描述与数组对应的内存区域如何使用, 这依赖如下几个方面:</p>
<ul>
<li>数据的类型 (整数, 浮点数或者 Python 对象)</li>
<li>数据的大小 (例如, 整数使用多少个字节存储)</li>
<li>数据的字节顺序 (小端法或大端法)</li>
<li>在结构化类型的情况下, 字段的名称、每个字段的数据类型和每个字段所取的内存块的部分</li>
</ul>
<p>字节顺序是通过对数据类型预先设定”&lt;”或”&gt;”来决定的. “&lt;”意味着小端法(最小值存储在最小的地址, 即低位组放在最前面). “&gt;”意味着大端法 (最重要的字节存储在最小的地址, 即高位组放在最前面).</p>
<p>dtype 对象是使用以下语法构造的:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.dtype(<span class="built_in">object</span>, align, copy)</span><br></pre></td></tr></table></figure>
<ul>
<li>object: 要转换为的数据类型对象</li>
<li>align: 如果为 true, 填充字段使其类似 C 的结构体</li>
<li>copy: 复制 dtype 对象, 如果为 false, 则是对内置数据类型对象的引用</li>
</ul>
<p>我们接下来看几个实例:</p>
<p><strong>[例 2.1] 使用标量类型</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype(np.int32)</span><br><span class="line">print(dt)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int32</span><br></pre></td></tr></table></figure>
<p><strong>[例 2.2] 使用缩写</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype(<span class="string">&#x27;i4&#x27;</span>)</span><br><span class="line">print(dt)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int32</span><br></pre></td></tr></table></figure>
<p><strong>[例 2.3] 指定字节顺序</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype(<span class="string">&#x27;&lt;i4&#x27;</span>)</span><br><span class="line">print(dt)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int32</span><br></pre></td></tr></table></figure>
<p><strong>[例 2.4] 创建结构化数据类型</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>, np.int8)])</span><br><span class="line">print(dt)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(&#39;age&#39;, &#39;i1&#39;)]</span><br></pre></td></tr></table></figure>
<p><strong>[例 2.5] 将数据类型应用于 ndarray 对象</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;i1&#x27;</span>)])</span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)], dtype=dt)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(10,) (20,) (30,)]</span><br></pre></td></tr></table></figure>
<p><strong>[例 2.6] 类型字段名可以用于存取实际的 age 列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;i1&#x27;</span>)])</span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)], dtype=dt)</span><br><span class="line">print(a[<span class="string">&#x27;age&#x27;</span>])</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[10 20 30]</span><br></pre></td></tr></table></figure>
<p><strong>[例 2.7] 定义一个结构化数据类型 student, 包含字符串字段 name, 整数字段 age, 及浮点字段 marks, 并将这个 dtype 应用到 ndarray 对象.</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">student = np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S20&#x27;</span>),(<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;i1&#x27;</span>),(<span class="string">&#x27;marks&#x27;</span>,<span class="string">&#x27;f4&#x27;</span>)])</span><br><span class="line">a = np.array([(<span class="string">&#x27;abc&#x27;</span>,<span class="number">21</span>,<span class="number">50</span>),(<span class="string">&#x27;xyz&#x27;</span>,<span class="number">18</span>,<span class="number">75</span>)], dtype=student)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(b&#39;abc&#39;, 21, 50.) (b&#39;xyz&#39;, 18, 75.)]</span><br></pre></td></tr></table></figure>
<p><strong>注: <code>S</code> 后面的数字是表示字符串的长度, 超出会被截断.</strong></p>
<p>每个内建类型都有一个唯一定义它的字符代码, 如下:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">对应类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">b</td>
<td style="text-align:left">布尔型</td>
</tr>
<tr>
<td style="text-align:left">i</td>
<td style="text-align:left">(有符号) 整型</td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">无符号整型 integer</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">浮点型</td>
</tr>
<tr>
<td style="text-align:left">c</td>
<td style="text-align:left">复数浮点型</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">timedelta（时间间隔）</td>
</tr>
<tr>
<td style="text-align:left">M</td>
<td style="text-align:left">datetime（日期时间）</td>
</tr>
<tr>
<td style="text-align:left">O</td>
<td style="text-align:left">(Python) 对象</td>
</tr>
<tr>
<td style="text-align:left">S, a</td>
<td style="text-align:left">(byte-)字符串</td>
</tr>
<tr>
<td style="text-align:left">U</td>
<td style="text-align:left">Unicode</td>
</tr>
<tr>
<td style="text-align:left">V</td>
<td style="text-align:left">原始数据 (void)</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Topic-3-Properties-of-Ndarray"><a href="#Topic-3-Properties-of-Ndarray" class="headerlink" title="Topic 3 Properties of Ndarray"></a>Topic 3 Properties of Ndarray</h2><p>Numpy 数组的维数称为秩 (rank), 秩就是轴的数量, 一维数组的秩是 1, 二维数组的秩为 2, 以此类推. 在 Numpy中,每一个线性的数组称为是一个轴 (axis), 也就是维度 (dimensions). 比如说,二维数组相当于是两个一维数组, 其中第一个一维数组中每个元素又是一个一维数组. 所以一维数组就是 Numpy 中的轴 (axis), 第一个轴相当于是底层数组, 第二个轴是底层数组里的数组. 而轴的数量——秩, 就是数组的维数. </p>
<p>很多时候可以声明 axis. axis=0, 表示沿着第 0 轴进行操作, 即对每一列进行操作. axis=1, 表示沿着第1轴进行操作, 即对每一行进行操作. Numpy 的数组中比较重要 ndarray 对象属性有:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ndarray.ndim</td>
<td style="text-align:left">秩，即轴的数量或维度的数量</td>
</tr>
<tr>
<td style="text-align:left">ndarray.shape</td>
<td style="text-align:left">数组的维度，对于矩阵，n 行 m 列</td>
</tr>
<tr>
<td style="text-align:left">ndarray.size</td>
<td style="text-align:left">数组元素的总个数，相当于 .shape 中 n*m 的值</td>
</tr>
<tr>
<td style="text-align:left">ndarray.dtype</td>
<td style="text-align:left">ndarray 对象的元素类型</td>
</tr>
<tr>
<td style="text-align:left">ndarray.itemsize</td>
<td style="text-align:left">ndarray 对象中每个元素的大小，以字节为单位</td>
</tr>
<tr>
<td style="text-align:left">ndarray.flags</td>
<td style="text-align:left">ndarray 对象的内存信息</td>
</tr>
<tr>
<td style="text-align:left">ndarray.real</td>
<td style="text-align:left">ndarray元素的实部</td>
</tr>
<tr>
<td style="text-align:left">ndarray.imag</td>
<td style="text-align:left">ndarray 元素的虚部</td>
</tr>
<tr>
<td style="text-align:left">ndarray.data</td>
<td style="text-align:left">包含实际数组元素的缓冲区，由于一般通过数组的索引获取元素，所以通常不需要使用这个属性。</td>
</tr>
</tbody>
</table>
</div>
<p>我们来看几个例子:</p>
<p><strong>[例 3.1] 使用 ndarray.ndim 返回数组的维数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">24</span>)</span><br><span class="line">print(a)</span><br><span class="line">print(a.ndim)</span><br><span class="line"></span><br><span class="line">b = a.reshape(<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">print(b)</span><br><span class="line">print(b.ndim)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">[[[ 0  1  2]</span><br><span class="line">  [ 3  4  5]</span><br><span class="line">  [ 6  7  8]</span><br><span class="line">  [ 9 10 11]]</span><br><span class="line"></span><br><span class="line"> [[12 13 14]</span><br><span class="line">  [15 16 17]</span><br><span class="line">  [18 19 20]</span><br><span class="line">  [21 22 23]]]</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p><strong>[例 3.2] 使用 ndarray.shape 来获取数组的维度, 返回一个元组, 这个元组的长度就是维度的数目, 即 ndim 属性 (秩). 比如, 一个二维数组, 其维度表示”行数”和”列数”.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(a.shape)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(2,3)</span><br></pre></td></tr></table></figure>
<p>调整数组大小</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">a.shape = (<span class="number">3</span>,<span class="number">2</span>)  </span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[1 2]</span><br><span class="line"> [3 4]</span><br><span class="line"> [5 6]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 3.3] 使用 ndarray.size 来获取数组中的元素个数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">print(a.size)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure>
<h2 id="Topic-4-Array-Creation"><a href="#Topic-4-Array-Creation" class="headerlink" title="Topic 4 Array Creation"></a>Topic 4 Array Creation</h2><p>ndarray 数组除了可以使用底层 ndarray 构造器来创建外, 也可以通过以下几种方式来创建.</p>
<h3 id="4-1-numpy-empty"><a href="#4-1-numpy-empty" class="headerlink" title="4.1 numpy.empty"></a>4.1 numpy.empty</h3><p>numpy.empty 方法用来创建一个指定形状 (shape), 数据类型 (dtype) 且未初始化(随机值)的数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.empty(shape, dtype=float64, order=<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># shape: 数组形状, 可以是 list 也可以是 tuple</span></span><br><span class="line"><span class="comment"># dtype: 数据类型, 默认为 float64</span></span><br><span class="line"><span class="comment"># order: 有&quot;C&quot;和&quot;F&quot;两个选项,分别代表, 行优先和列优先, 在计算机内存中的存储元素的顺序.</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 4.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.empty([<span class="number">3</span>,<span class="number">3</span>],dtype=np.int8)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[  0   0   0]</span><br><span class="line"> [  0   0   0]</span><br><span class="line"> [  0 -80   0]]</span><br></pre></td></tr></table></figure>
<h3 id="4-2-numpy-zeros"><a href="#4-2-numpy-zeros" class="headerlink" title="4.2 numpy.zeros"></a>4.2 numpy.zeros</h3><p>创建指定大小的数组, 数组元素以 0 来填充:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.zeros(shape, dtype=float64, order=<span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>[例 4.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.zeros([<span class="number">3</span>,<span class="number">3</span>], dtype=<span class="string">&#x27;f8&#x27;</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[0. 0. 0.]</span><br><span class="line"> [0. 0. 0.]</span><br><span class="line"> [0. 0. 0.]]</span><br></pre></td></tr></table></figure>
<h3 id="4-3-numpy-ones"><a href="#4-3-numpy-ones" class="headerlink" title="4.3 numpy.ones"></a>4.3 numpy.ones</h3><p>创建指定形状的数组, 数组元素以 1 来填充:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.ones(shape, dtype=float64, order=<span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>[例 4.3]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.ones([<span class="number">3</span>,<span class="number">3</span>], dtype=<span class="string">&#x27;i2&#x27;</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[1 1 1]</span><br><span class="line"> [1 1 1]</span><br><span class="line"> [1 1 1]]</span><br></pre></td></tr></table></figure>
<h3 id="4-4-numpy-eye"><a href="#4-4-numpy-eye" class="headerlink" title="4.4 numpy.eye"></a>4.4 numpy.eye</h3><p>创建单位矩阵</p>
<p><strong>[例 4.4]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.eye(<span class="number">5</span>, dtype=<span class="string">&#x27;i8&#x27;</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[[1 0 0 0 0]</span><br><span class="line"> [0 1 0 0 0]</span><br><span class="line"> [0 0 1 0 0]</span><br><span class="line"> [0 0 0 1 0]</span><br><span class="line"> [0 0 0 0 1]]</span><br></pre></td></tr></table></figure>
<h3 id="4-5-numpy-random-randn"><a href="#4-5-numpy-random-randn" class="headerlink" title="4.5 numpy.random.randn"></a>4.5 numpy.random.randn</h3><p>创建标准正态分布随机数组:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.random.randn(d0, d1, d2, ...)</span><br></pre></td></tr></table></figure>
<p><strong>[例 4.5]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.random.randn(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[-1.49392311  0.88590821 -0.44375056]</span><br><span class="line"> [-0.19250296 -0.72078554  0.65790911]</span><br><span class="line"> [-0.03507985 -0.2863142  -0.73509595]]</span><br></pre></td></tr></table></figure>
<h3 id="4-6-numpy-random-rand"><a href="#4-6-numpy-random-rand" class="headerlink" title="4.6 numpy.random.rand"></a>4.6 numpy.random.rand</h3><p>创建元素位于 [0, 1) 的随机数组</p>
<p><strong>[例 4.6]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.random.rand(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[0.06404836 0.47933279 0.7514547 ]</span><br><span class="line"> [0.51344134 0.36646154 0.68031114]</span><br><span class="line"> [0.31175219 0.53322371 0.26923007]]</span><br></pre></td></tr></table></figure>
<h3 id="4-7-numpy-random-randint"><a href="#4-7-numpy-random-randint" class="headerlink" title="4.7 numpy.random.randint"></a>4.7 numpy.random.randint</h3><p>利用 <code>randint(low, high, size)</code> 创建一个整数型指定范围在 [low, high] 之间的数组.</p>
<p><strong>[例 4.7]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,[<span class="number">3</span>,<span class="number">3</span>])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[121 102 170]</span><br><span class="line"> [104 166 144]</span><br><span class="line"> [120 172 129]]</span><br></pre></td></tr></table></figure>
<h3 id="4-8-numpy-asarray"><a href="#4-8-numpy-asarray" class="headerlink" title="4.8 numpy.asarray"></a>4.8 numpy.asarray</h3><p>numpy.asarray 类似 numpy.array, 但 numpy.asarray 参数只有三个, 比 numpy.array 少两个.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.asarray(<span class="built_in">object</span>, dtype=<span class="literal">None</span>, order=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># object: 可以是列表, 列表的元组, 元组, 元组的元组, 元组的列表和多维数组</span></span><br><span class="line"><span class="comment"># dtype: 数据类型</span></span><br><span class="line"><span class="comment"># order: 可选, 有&quot;C&quot;和&quot;F&quot;两个选项,分别代表, 行优先和列优先, 在计算机内存中的存储元素的顺序.</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 4.8]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">a = np.asarray(x, dtype=<span class="string">&#x27;f8&#x27;</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1. 2. 3.]</span><br></pre></td></tr></table></figure>
<h3 id="4-9-numpy-frombuffer"><a href="#4-9-numpy-frombuffer" class="headerlink" title="4.9 numpy.frombuffer"></a>4.9 numpy.frombuffer</h3><p>numpy.frombuffer 接受 buffer 输入参数, 以流的形式读入转化成 ndarray 对象.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.frombuffer(buffer, dtype=float64, count=-<span class="number">1</span>, offset=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># buffer: 可以是任意对象, 以流的形式读入.</span></span><br><span class="line"><span class="comment"># dtype: 返回数组的数据类型</span></span><br><span class="line"><span class="comment"># count: 读取的数据数量, 默认为-1, 读取所有数据.</span></span><br><span class="line"><span class="comment"># offset: 读取初始位置, 默认为 0.</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 4.9]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = <span class="string">b&#x27;Hello World&#x27;</span></span><br><span class="line">a = np.frombuffer(s, dtype=<span class="string">&#x27;S1&#x27;</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[b&#39;H&#39; b&#39;e&#39; b&#39;l&#39; b&#39;l&#39; b&#39;o&#39; b&#39; &#39; b&#39;W&#39; b&#39;o&#39; b&#39;r&#39; b&#39;l&#39; b&#39;d&#39;]</span><br></pre></td></tr></table></figure>
<h3 id="4-10-numpy-fromiter"><a href="#4-10-numpy-fromiter" class="headerlink" title="4.10 numpy.fromiter"></a>4.10 numpy.fromiter</h3><p>numpy.fromiter 方法从可迭代对象中建立 ndarray 对象, 返回一维数组.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.fromiter(iterable, dtype, count=-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># iterable: 可迭代对象</span></span><br><span class="line"><span class="comment"># dtype: 返回数组的数据类型</span></span><br><span class="line"><span class="comment"># count: 读取的数据数量, 默认为-1, 读取所有数据</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 4.10]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">lt = <span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line">itr = <span class="built_in">iter</span>(lt)</span><br><span class="line"></span><br><span class="line">a = np.fromiter(itr, dtype=<span class="string">&#x27;i4&#x27;</span>, count=-<span class="number">1</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[0 1 2 3 4]</span><br></pre></td></tr></table></figure>
<h3 id="4-11-numpy-arange"><a href="#4-11-numpy-arange" class="headerlink" title="4.11 numpy.arange"></a>4.11 numpy.arange</h3><p>使用 arange 函数创建数值范围并返回 ndarray 对象, 函数格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.arange(start, stop, step, dtype)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># start: 起始值, 默认为 0</span></span><br><span class="line"><span class="comment"># stop: 终止值 (不包含)</span></span><br><span class="line"><span class="comment"># step: 步长, 默认为 1</span></span><br><span class="line"><span class="comment"># dtype: 指定数据类型</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 4.11]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">5</span>, dtype=<span class="string">&#x27;f8&#x27;</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[0.  1.  2.  3.  4.]</span><br></pre></td></tr></table></figure>
<h3 id="4-12-numpy-linspace"><a href="#4-12-numpy-linspace" class="headerlink" title="4.12 numpy.linspace"></a>4.12 numpy.linspace</h3><p>numpy.linspace 函数用于创建一个一维数组, 数组是一个等差数列构成的, 格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">numpy.linspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, retstep=<span class="literal">False</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># start: 序列的起始值</span></span><br><span class="line"><span class="comment"># stop: 序列的终止值, 如果endpoint为true, 该值包含于数列中</span></span><br><span class="line"><span class="comment"># num: 要生成的等步长的样本数量, 默认为50</span></span><br><span class="line"><span class="comment"># endpoint: 该值为 true 时, 数列中包含stop值, 反之不包含, 默认是True</span></span><br><span class="line"><span class="comment"># retstep: 如果为 True 时, 生成的数组中会显示间距, 反之不显示.</span></span><br><span class="line"><span class="comment"># dtype: 数据类型</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 4.12]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.linspace(<span class="number">0</span>,<span class="number">100</span>,<span class="number">21</span>,retstep=<span class="literal">True</span>,dtype=<span class="string">&#x27;f8&#x27;</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="built_in">type</span>(a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(array([  0.,   5.,  10.,  15.,  20.,  25.,  30.,  35.,  40.,  45.,  50.,</span><br><span class="line">        55.,  60.,  65.,  70.,  75.,  80.,  85.,  90.,  95., 100.]), 5.0)</span><br><span class="line">&lt;class &#39;tuple&#39;&gt;</span><br></pre></td></tr></table></figure>
<p>我们也可以使用 reshape 来改变数组维度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.linspace(<span class="number">0</span>,<span class="number">100</span>,<span class="number">21</span>,retstep=<span class="literal">False</span>,dtype=<span class="string">&#x27;f8&#x27;</span>)</span><br><span class="line">b = a.reshape(<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[  0.   5.  10.  15.  20.  25.  30.]</span><br><span class="line"> [ 35.  40.  45.  50.  55.  60.  65.]</span><br><span class="line"> [ 70.  75.  80.  85.  90.  95. 100.]]</span><br></pre></td></tr></table></figure>
<h3 id="4-13-numpy-logspace"><a href="#4-13-numpy-logspace" class="headerlink" title="4.13 numpy.logspace"></a>4.13 numpy.logspace</h3><p>numpy.logspace 函数用于创建一个数组中元素取对数后均匀分布的数组, 格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">numpy.logspace(start, stop, num=<span class="number">50</span>, endpoint=<span class="literal">True</span>, base=<span class="number">10.0</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># start: 序列的起始值为 base^start</span></span><br><span class="line"><span class="comment"># stop: 序列的终止值为 base^stop (若 endpoint=True 的情况)</span></span><br><span class="line"><span class="comment"># num: 要生成的等步长的样本数量, 默认为 50</span></span><br><span class="line"><span class="comment"># endpoint: 是否包含 base^stop</span></span><br><span class="line"><span class="comment"># base: 对数 log 的底数</span></span><br><span class="line"><span class="comment"># dtype: 数据类型</span></span><br></pre></td></tr></table></figure>
<p>注意, <code>numpy.logspace</code> 代码等效于代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.linspace(start,stop, num=num, base=base, endpoint=<span class="literal">True</span>)</span><br><span class="line">result = np.power(a, base)</span><br></pre></td></tr></table></figure>
<p><strong>[例 4.13]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.logspace(<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>,base=<span class="number">2</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[2.         2.16011948 2.33305808 2.5198421  2.72158    2.93946898</span><br><span class="line"> 3.1748021  3.42897593 3.70349885 4.        ]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-5-Slice-and-Index"><a href="#Topic-5-Slice-and-Index" class="headerlink" title="Topic 5 Slice and Index"></a>Topic 5 Slice and Index</h2><h3 id="5-1-Slice"><a href="#5-1-Slice" class="headerlink" title="5.1 Slice"></a>5.1 Slice</h3><p>ndarray对象的内容可以通过索引或切片来访问和修改, 与 Python 中 list 的切片操作一样. ndarray 数组可以基于 0 - n 的下标进行索引, 切片对象可以通过内置的 slice 函数, 并设置 start, stop 及 step 参数进行, 从原数组中切割出一个新数组. </p>
<p><strong>[例 5.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">s = <span class="built_in">slice</span>(<span class="number">2</span>,<span class="number">7</span>,<span class="number">2</span>)</span><br><span class="line">print(a[s])</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[2 4 6]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.2]</strong></p>
<p>我们也可以通过冒号分隔切片参数 <strong>start:stop:step</strong> 来进行切片操作:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">b = a[<span class="number">2</span>:<span class="number">7</span>:<span class="number">2</span>]</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[2 4 6]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.3]</strong></p>
<p>同样我们可以提取单个元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">b = a[<span class="number">2</span>]</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<p>输出结果为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.4]</strong></p>
<p>多维数组也同样适用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;从数组索引 a[1:] 处开始切割&#x27;</span>) <span class="comment"># 还记得之前我们讲的轴的概念吗?</span></span><br><span class="line">print(a[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [3 4 5]</span><br><span class="line"> [4 5 6]]</span><br><span class="line">从数组索引 a[1:] 处开始切割</span><br><span class="line">[[3 4 5]</span><br><span class="line"> [4 5 6]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.5]</strong></p>
<p>在多维数组的切片中, 使用 <code>,</code> 区分维数.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">12</span>)</span><br><span class="line">a.shape = <span class="number">3</span>,<span class="number">4</span></span><br><span class="line">print(a)</span><br><span class="line">print(a[<span class="number">0</span>:<span class="number">2</span>,<span class="number">1</span>:<span class="number">3</span>]) <span class="comment"># 第1,2 行 和 第 2,3 列</span></span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[[ 0  1  2  3]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [ 8  9 10 11]]</span><br><span class="line">[[1 2]</span><br><span class="line"> [5 6]]</span><br></pre></td></tr></table></figure>
<h3 id="5-2-Index"><a href="#5-2-Index" class="headerlink" title="5.2 Index"></a>5.2 Index</h3><p>NumPy 比一般的 Python 序列提供更多的索引方式, 除了之前看到的用整数和切片的索引外, 数组可以由整数数组索引、布尔索引及花式索引.</p>
<h4 id="5-2-1-Array-Indexing"><a href="#5-2-1-Array-Indexing" class="headerlink" title="5.2.1 Array Indexing"></a>5.2.1 Array Indexing</h4><p><strong>[例 5.6]</strong></p>
<p>在多维数组中, 非连续索引切片:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">6</span>)</span><br><span class="line">b = np.arange(<span class="number">0</span>,<span class="number">25</span>)</span><br><span class="line">b.shape(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片向量既可以是 ndarrat 也可以是 list</span></span><br><span class="line">r = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>])   <span class="comment"># r = [0,1,4]</span></span><br><span class="line">c = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]				<span class="comment"># c = np.array([1,2,4])</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;a:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;a_slice:\n&#x27;</span>,a[r])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;b:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;b_slice:\n&#x27;</span>,b[r,:][:,c])</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a:</span><br><span class="line"> [0 1 2 3 4 5]</span><br><span class="line">a_slice:</span><br><span class="line"> [0 1 4]</span><br><span class="line">b:</span><br><span class="line"> [[ 0  1  2  3  4]</span><br><span class="line"> [ 5  6  7  8  9]</span><br><span class="line"> [10 11 12 13 14]</span><br><span class="line"> [15 16 17 18 19]</span><br><span class="line"> [20 21 22 23 24]]</span><br><span class="line">b_slice:</span><br><span class="line"> [[ 1  2  4]</span><br><span class="line"> [ 6  7  9]</span><br><span class="line"> [21 22 24]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.7]</strong></p>
<p>获取数组中(0,0), (1,1) 和 (2,0)位置处的元素.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">y = x[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]]</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1 4 5]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.8]</strong> </p>
<p>获取了 4X3 数组中的四个角的元素. 行索引是 [0,0] 和 [3,3], 而列索引是 [0,2] 和 [0,2].</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]])</span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,x)</span><br><span class="line">rows = np.array([[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">3</span>]])</span><br><span class="line">cols = np.array([[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">2</span>]])</span><br><span class="line">y = x[rows,cols]</span><br><span class="line">print(<span class="string">&#x27;这个数组的四个角元素是:\n&#x27;</span>,y)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是:</span><br><span class="line"> [[ 0  1  2]</span><br><span class="line"> [ 3  4  5]</span><br><span class="line"> [ 6  7  8]</span><br><span class="line"> [ 9 10 11]]</span><br><span class="line"> </span><br><span class="line">这个数组的四个角元素是:</span><br><span class="line"> [[ 0  2]</span><br><span class="line"> [ 9 11]]</span><br></pre></td></tr></table></figure>
<h4 id="5-2-2-Bool-Indexing"><a href="#5-2-2-Bool-Indexing" class="headerlink" title="5.2.2 Bool Indexing"></a>5.2.2 Bool Indexing</h4><p>我们可以通过一个布尔数组来索引目标数组. 布尔索引通过布尔运算 (如: 比较运算符) 来获取符合指定条件的元素的数组.</p>
<p><strong>[例 5.9]</strong></p>
<p>获取大于 5 的元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]])</span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,x)</span><br><span class="line">y = x[x&gt;<span class="number">5</span>]</span><br><span class="line">print(<span class="string">&#x27;大于 5 的元素是:\n&#x27;</span>,y)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是:</span><br><span class="line"> [[ 0  1  2]</span><br><span class="line"> [ 3  4  5]</span><br><span class="line"> [ 6  7  8]</span><br><span class="line"> [ 9 10 11]]</span><br><span class="line">大于 5 的元素是:</span><br><span class="line"> [ 6  7  8  9 10 11]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.10]</strong></p>
<p>使用 <code>~</code> (取补运算符) 来过滤 NaN</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([np.nan,<span class="number">1</span>,<span class="number">2</span>,np.nan,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = a[~np.isnan(a)]</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1. 2. 3. 4. 5.]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.11]</strong></p>
<p>从数组中过滤掉非复数元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>+<span class="number">6j</span>,<span class="number">5</span>,<span class="number">3.5</span>+<span class="number">5j</span>])</span><br><span class="line">b = a[np.iscomplex(a)]</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[2. +6.j 3.5+5.j]</span><br></pre></td></tr></table></figure>
<h4 id="5-2-3-Fancy-Indexing"><a href="#5-2-3-Fancy-Indexing" class="headerlink" title="5.2.3 Fancy Indexing"></a>5.2.3 Fancy Indexing</h4><p>花式索引指的是利用整数数组进行索引. 花式索引根据索引数组的值作为目标数组的某个轴的下标来取值. 对于使用一维整型数组作为索引, 如果目标是一维数组, 那么索引的结果就是对应位置的元素; 如果目标是二维数组, 那么就是对应下标的行.</p>
<p>花式索引跟切片不一样, 它总是将数据复制到新数组中.</p>
<p><strong>[例 5.12]</strong></p>
<p>传入顺序索引数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">32</span>).reshape(<span class="number">8</span>,<span class="number">4</span>)</span><br><span class="line">y = x[[<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">7</span>]]</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[16 17 18 19]</span><br><span class="line"> [ 8  9 10 11]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [28 29 30 31]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.13]</strong></p>
<p>传入倒序索引数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">32</span>).reshape(<span class="number">8</span>,<span class="number">4</span>)</span><br><span class="line">y = x[[-<span class="number">4</span>,-<span class="number">2</span>,-<span class="number">1</span>,-<span class="number">7</span>]]</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[16 17 18 19]</span><br><span class="line"> [24 25 26 27]</span><br><span class="line"> [28 29 30 31]</span><br><span class="line"> [ 4  5  6  7]]</span><br></pre></td></tr></table></figure>
<p><strong>[例 5.14]</strong></p>
<p>传入多个索引数组, 使用 <code>np.ix_</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">32</span>).reshape(<span class="number">8</span>,<span class="number">4</span>)</span><br><span class="line">y = x[np.ix_([<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>])]</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[ 4  7  5  6]</span><br><span class="line"> [20 23 21 22]</span><br><span class="line"> [28 31 29 30]</span><br><span class="line"> [ 8 11  9 10]]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  <strong>注:</strong></p>
<p>  x[np.ix_([1,5,7,2],[0,3,1,2])]这句话会输出一个4*4的矩阵, 其中的元素分别是:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x[1,0] x[1,3] x[1,1] x[1,2]</span><br><span class="line">x[5,0] x[5,3] x[5,1] x[5,2]</span><br><span class="line">x[7,0] x[7,3] x[7,1] x[7,2]</span><br><span class="line">x[2,0] x[2,3] x[2,1] x[2,2]</span><br></pre></td></tr></table></figure>
<p>  就是说, 如果 np.ix_ 中输入两个列表, 则第一个列表存的是待提取元素的行标, 第二个列表存的是待提取元素的列标, 第一个列表中的每个元素都会遍历第二个列表中的每个值, 构成新矩阵的一行元素.</p>
</blockquote>
<h2 id="Topic-6-Broadcast"><a href="#Topic-6-Broadcast" class="headerlink" title="Topic 6 Broadcast"></a>Topic 6 Broadcast</h2><p>广播 (Broadcast) 是 numpy 对不同形状 (shape )的数组进行数值计算的方式, 对数组的算术运算通常在相应的元素上进行. </p>
<p>如果两个数组 a 和 b 形状相同, 即满足 <strong>a.shape == b.shape</strong>, 那么 a*b 的结果就是 a 与 b 数组对应位相乘. 这要求维数相同, 且各维度的长度相同.</p>
<p><strong>[例 6.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>])</span><br><span class="line">c = a*b</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ 10  40  90 160]</span><br></pre></td></tr></table></figure>
<p><strong>[例 6.2]</strong></p>
<p>当运算中的 2 个数组的形状不同时, numpy 将自动触发广播机制. 如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">             [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">             [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">             [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">print(a+b)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[ 1  2  3]</span><br><span class="line"> [11 12 13]</span><br><span class="line"> [21 22 23]</span><br><span class="line"> [31 32 33]]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  <strong>注:</strong></p>
<p>  4x3 的二维数组与长为 3 的一维数组相加, 等效于把数组 b 在二维上重复 4 次再运算:</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">            [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">            [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">            [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">c = np.tile(b,(<span class="number">4</span>,<span class="number">1</span>)) <span class="comment"># np.ones((2,3)) 等效于 np.tile(1., (2,3))</span></span><br><span class="line">print(a+c)</span><br></pre></td></tr></table></figure>
<p>  输出结果是:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[ 1  2  3]</span><br><span class="line">[11 12 13]</span><br><span class="line">[21 22 23]</span><br><span class="line">[31 32 33]]</span><br></pre></td></tr></table></figure>
<p>可以广播的几种情况:</p>
</blockquote>
<ol>
<li>两个数组各维度大小从后往前比对均一致</li>
</ol>
<p>看个例子:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">A = np.zeros((<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">B = np.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">print((A+B).shape) <span class="comment"># 输出 (2, 5, 3, 4)</span></span><br><span class="line"></span><br><span class="line">A = np.zeros((<span class="number">4</span>))</span><br><span class="line">B = np.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">print((A+B).shape) <span class="comment"># 输出(3,4)</span></span><br></pre></td></tr></table></figure>
<p>举个反例:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">A = np.zeros((<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">B = np.zeros((<span class="number">2</span>,<span class="number">4</span>))</span><br><span class="line">print((A+B).shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这将会报错:</span></span><br><span class="line"><span class="comment"># ValueError: operands could not be broadcast together with shapes (2,5,3,4) (2,4)</span></span><br></pre></td></tr></table></figure>
<ol>
<li>两个数组存在一些维度大小不相等时, 有一个数组的该不相等维度大小为1</li>
</ol>
<p>这是对上面那条规则的补充，虽然存在多个维大小不一致，但是只要不相等的那些维有一个数组的该大小是1 就可以.</p>
<p>看个例子:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.zeros((<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">B = np.zeros((<span class="number">3</span>,<span class="number">1</span>))</span><br><span class="line">print((A+B).shape) <span class="comment"># 输出：(2, 5, 3, 4)</span></span><br><span class="line"></span><br><span class="line">A = np.zeros((<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">B = np.zeros((<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>))</span><br><span class="line">print((A+B).shape) <span class="comment"># 输出：(2, 5, 3, 4)</span></span><br><span class="line"></span><br><span class="line">A = np.zeros((<span class="number">1</span>))</span><br><span class="line">B = np.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">print((A+B).shape) <span class="comment"># 输出(3,4)</span></span><br></pre></td></tr></table></figure>
<p>同样看个反例:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">A = np.zeros((<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">B = np.zeros((<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">4</span>))</span><br><span class="line">print((A+B).shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这将会报错</span></span><br><span class="line"><span class="comment"># ValueError: operands could not be broadcast together with shapes (2,5,3,4) (2,4,1,4)</span></span><br></pre></td></tr></table></figure>
<h2 id="Topic-7-Array-Iteration"><a href="#Topic-7-Array-Iteration" class="headerlink" title="Topic 7 Array Iteration"></a>Topic 7 Array Iteration</h2><h3 id="7-1-numpy-nditer"><a href="#7-1-numpy-nditer" class="headerlink" title="7.1 numpy.nditer"></a>7.1 numpy.nditer</h3><p>NumPy 迭代器对象 numpy.nditer 提供了一种灵活访问一个或者多个数组元素的方式.</p>
<p><strong>[例 7.1]</strong></p>
<p>使用 arange() 函数创建一个 2X3 数组，并使用 nditer 对它进行迭代.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">print(<span class="string">&#x27;原始数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;迭代数组元素:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a):</span><br><span class="line">    print(x,end=<span class="string">&#x27;, &#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">原始数组:</span><br><span class="line"> [[0 1 2]</span><br><span class="line"> [3 4 5]]</span><br><span class="line"> </span><br><span class="line">迭代数组元素:</span><br><span class="line">0, 1, 2, 3, 4, 5,</span><br></pre></td></tr></table></figure>
<p><strong>注:</strong> 你如果有一定的编程基础, 我们也可以使用 nested for loop 来进行遍历.</p>
<p>以上实例不是使用标准 C 或者 Fortran 顺序, <strong>选择的顺序是和数组内存布局一致的</strong>, 这样做是为了提升访问的效率, 默认是行序优先 (row-major order，或者说是 C-order). <strong>这反映了默认情况下只需访问每个元素, 而无需考虑其特定顺序.</strong> 我们可以通过迭代上述数组的转置来看到这一点, 并与以 C 顺序访问数组转置的 copy 方式做对比, 如下:</p>
<p><strong>[例 7.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T):</span><br><span class="line">    print(x, end=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">    </span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T.copy(order=<span class="string">&#x27;C&#x27;</span>)):</span><br><span class="line">    print(x, end=<span class="string">&#x27;, &#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0, 1, 2, 3, 4, 5, </span><br><span class="line"></span><br><span class="line">0, 3, 1, 4, 2, 5, </span><br></pre></td></tr></table></figure>
<h3 id="7-2-Iteration-Direction"><a href="#7-2-Iteration-Direction" class="headerlink" title="7.2 Iteration Direction"></a>7.2 Iteration Direction</h3><p>我们也可以控制遍历顺序:</p>
<ul>
<li><p><code>for x in np.nditer(a, order=&#39;F&#39;)</code> Fortran order，即是列序优先.</p>
</li>
<li><p><code>for x in np.nditer(a.T, order=&#39;C&#39;)</code> C order，即是行序优先.</p>
</li>
</ul>
<p><strong>[例 7.3]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</span><br><span class="line">a.shape = <span class="number">3</span>,<span class="number">4</span></span><br><span class="line">print(<span class="string">&#x27;原始数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;原始数组的转置是:\n&#x27;</span>,a.T)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;以 C 风格遍历:\n&#x27;</span>,a)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, order=<span class="string">&#x27;C&#x27;</span>):</span><br><span class="line">    print(x,end=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;以 F 风格遍历:\n&#x27;</span>,a)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, order=<span class="string">&#x27;F&#x27;</span>):</span><br><span class="line">    print(x,end=<span class="string">&#x27;, &#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">原始数组是：</span><br><span class="line">[[ 0  5 10 15]</span><br><span class="line"> [20 25 30 35]</span><br><span class="line"> [40 45 50 55]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">原始数组的转置是：</span><br><span class="line">[[ 0 20 40]</span><br><span class="line"> [ 5 25 45]</span><br><span class="line"> [10 30 50]</span><br><span class="line"> [15 35 55]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">以 C 风格遍历:</span><br><span class="line">[[ 0 20 40]</span><br><span class="line"> [ 5 25 45]</span><br><span class="line"> [10 30 50]</span><br><span class="line"> [15 35 55]]</span><br><span class="line">0, 20, 40, 5, 25, 45, 10, 30, 50, 15, 35, 55, </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">以 F 风格遍历:</span><br><span class="line">[[ 0 20 40]</span><br><span class="line"> [ 5 25 45]</span><br><span class="line"> [10 30 50]</span><br><span class="line"> [15 35 55]]</span><br><span class="line">0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55,</span><br></pre></td></tr></table></figure>
<h3 id="7-3-Modify-Array"><a href="#7-3-Modify-Array" class="headerlink" title="7.3 Modify Array"></a>7.3 Modify Array</h3><p><strong>我们也可以在遍历过程中修改数组中元素的值.</strong> </p>
<p>nditer 对象有另一个可选参数 op_flags. 默认情况下, nditer 将视待迭代遍历的数组为只读对象 (read-only), 为了在遍历数组的同时, 实现对数组元素值得修改, 必须指定 read-write 或者 write-only 的模式.</p>
<p><strong>[例 7.4]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</span><br><span class="line">a.shape = <span class="number">3</span>,<span class="number">4</span></span><br><span class="line">print(<span class="string">&#x27;原始数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, op_flags=[<span class="string">&#x27;readwrite&#x27;</span>]):</span><br><span class="line">    x[...] = x*<span class="number">2</span></span><br><span class="line">print(<span class="string">&#x27;修改后的数组是:\n&#x27;</span>,a)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">原始数组是：</span><br><span class="line">[[ 0  5 10 15]</span><br><span class="line"> [20 25 30 35]</span><br><span class="line"> [40 45 50 55]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改后的数组是：</span><br><span class="line">[[  0  10  20  30]</span><br><span class="line"> [ 40  50  60  70]</span><br><span class="line"> [ 80  90 100 110]]</span><br></pre></td></tr></table></figure>
<h3 id="7-4-Return-New-Array-Through-Iteration"><a href="#7-4-Return-New-Array-Through-Iteration" class="headerlink" title="7.4 Return New Array Through Iteration"></a>7.4 Return New Array Through Iteration</h3><p><strong>我们还可以通过修改 <code>nditer</code> 的 flags 参数来使其返回遍历值产生的新数组:</strong></p>
<p><strong>[例 7.5]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</span><br><span class="line">a.shape = <span class="number">3</span>,<span class="number">4</span></span><br><span class="line">print(<span class="string">&#x27;原始数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;返回新的数组:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, flags=[<span class="string">&#x27;external_loop&#x27;</span>], order=<span class="string">&#x27;F&#x27;</span>):</span><br><span class="line">    print(x, end=<span class="string">&#x27;, &#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ 0 20 40], [ 5 25 45], [10 30 50], [15 35 55],</span><br></pre></td></tr></table></figure>
<h3 id="7-5-Broadcast-Iteration"><a href="#7-5-Broadcast-Iteration" class="headerlink" title="7.5 Broadcast Iteration"></a>7.5 Broadcast Iteration</h3><p><strong>还有一种是广播迭代</strong></p>
<p>如果两个数组是可广播的, nditer 组合对象能够同时迭代它们. 假设数组 a 的维度为 3X4, 数组 b 的维度为 1X4, 则使用以下迭代器 (数组 b 被广播到 a 的大小).</p>
<p><strong>[例 7.6]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>  (<span class="string">&#x27;第一个数组为:&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"><span class="built_in">print</span>  (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;第二个数组为:&#x27;</span>)</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], dtype=<span class="built_in">int</span>)  </span><br><span class="line"><span class="built_in">print</span> (b)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;修改后的数组为:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> np.nditer([a,b]):  </span><br><span class="line">    print(<span class="string">&quot;%d:%d&quot;</span> % (x,y), end=<span class="string">&quot;, &quot;</span>)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">第一个数组为：</span><br><span class="line">[[ 0  5 10 15]</span><br><span class="line"> [20 25 30 35]</span><br><span class="line"> [40 45 50 55]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组为：</span><br><span class="line">[1 2 3 4]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改后的数组为：</span><br><span class="line">0:1, 5:2, 10:3, 15:4, 20:1, 25:2, 30:3, 35:4, 40:1, 45:2, 50:3, 55:4,</span><br></pre></td></tr></table></figure>
<h2 id="Topic-8-Array-Operation"><a href="#Topic-8-Array-Operation" class="headerlink" title="Topic 8 Array Operation"></a>Topic 8 Array Operation</h2><h3 id="8-1-Change-Array-Shape"><a href="#8-1-Change-Array-Shape" class="headerlink" title="8.1 Change Array Shape"></a>8.1 Change Array Shape</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>numpy.reshape</code> <code>numpy.ndarray.reshape</code></td>
<td style="text-align:left">不改变数据的条件下修改形状</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.ndarray.flat</code></td>
<td style="text-align:left">数组元素迭代器</td>
</tr>
<tr>
<td style="text-align:left"><code>flatten</code></td>
<td style="text-align:left">返回一份数组拷贝，对拷贝所做的修改不会影响原始数组</td>
</tr>
<tr>
<td style="text-align:left"><code>ravel</code></td>
<td style="text-align:left">返回展开数组</td>
</tr>
</tbody>
</table>
</div>
<h4 id="8-1-1-numpy-reshape"><a href="#8-1-1-numpy-reshape" class="headerlink" title="8.1.1 numpy.reshape"></a>8.1.1 numpy.reshape</h4><p>numpy.reshape 函数可以在不改变数据的条件下修改形状，格式如下:</p>
<p><code>numpy.reshape(arr, newshape, order=&#39;C&#39;)</code></p>
<p><strong>[例 8.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">8</span>)</span><br><span class="line">print(<span class="string">&#x27;原始数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">b = np.reshape(a, [<span class="number">4</span>,<span class="number">2</span>], order=<span class="string">&#x27;F&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;修改后的数组:\n&#x27;</span>,b)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">原始数组:</span><br><span class="line"> [0 1 2 3 4 5 6 7]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">修改后的数组:</span><br><span class="line"> [[0 4]</span><br><span class="line"> [1 5]</span><br><span class="line"> [2 6]</span><br><span class="line"> [3 7]]</span><br></pre></td></tr></table></figure>
<h4 id="8-1-2-numpy-ndarray-flat"><a href="#8-1-2-numpy-ndarray-flat" class="headerlink" title="8.1.2 numpy.ndarray.flat"></a>8.1.2 numpy.ndarray.flat</h4><p><code>numpy.ndarray.flat</code> 是一个数组元素迭代器, 例子如下:</p>
<p><strong>[例 8.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">print(<span class="string">&#x27;原始数组:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> a:</span><br><span class="line">    print(row)</span><br><span class="line">    </span><br><span class="line">print(<span class="string">&#x27;迭代之后的数组:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> a.flat:</span><br><span class="line">    print(element)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">原始数组：</span><br><span class="line">[0 1 2]</span><br><span class="line">[3 4 5]</span><br><span class="line">[6 7 8]</span><br><span class="line">迭代后的数组：</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td></tr></table></figure>
<h4 id="8-1-3-numpy-ndarray-flatten"><a href="#8-1-3-numpy-ndarray-flatten" class="headerlink" title="8.1.3 numpy.ndarray.flatten"></a>8.1.3 numpy.ndarray.flatten</h4><p>numpy.ndarray.flatten 返回一份数组拷贝, 对拷贝所做的修改不会影响原始数组，格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ndarray.flatten(order=<span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>[例 8.3]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;按行展开的数组 (默认):\n&#x27;</span>,a.flatten())</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;按 F 展开的数组:\n&#x27;</span>,a.flatten(order=<span class="string">&#x27;F&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[0 1 2 3]</span><br><span class="line"> [4 5 6 7]]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">按行展开的数组 (默认):</span><br><span class="line"> [0 1 2 3 4 5 6 7]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">按 F 展开的数组:</span><br><span class="line"> [0 4 1 5 2 6 3 7]</span><br></pre></td></tr></table></figure>
<h4 id="8-1-4-numpy-ravel"><a href="#8-1-4-numpy-ravel" class="headerlink" title="8.1.4 numpy.ravel"></a>8.1.4 numpy.ravel</h4><p>numpy.ravel() 展平的数组元素, 顺序通常是”C风格”, 返回的是数组视图, 修改会影响原始数组. 该函数接收两个参数:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.ravel(a, order=<span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>[例 8.4]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;按行展开的数组 (默认):\n&#x27;</span>,np.ravel(a))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;按 F 展开的数组:\n&#x27;</span>,np.ravel(a,order=<span class="string">&#x27;F&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[0 1 2 3]</span><br><span class="line"> [4 5 6 7]]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">按行展开的数组 (默认):</span><br><span class="line"> [0 1 2 3 4 5 6 7]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">按 F 展开的数组:</span><br><span class="line"> [0 4 1 5 2 6 3 7]</span><br></pre></td></tr></table></figure>
<h3 id="8-2-Concatenate-Array"><a href="#8-2-Concatenate-Array" class="headerlink" title="8.2 Concatenate Array"></a>8.2 Concatenate Array</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>concatenate</code></td>
<td style="text-align:left">连接沿现有轴的数组序列</td>
</tr>
<tr>
<td style="text-align:left"><code>stack</code></td>
<td style="text-align:left">沿着新的轴加入一系列数组。</td>
</tr>
<tr>
<td style="text-align:left"><code>hstack</code></td>
<td style="text-align:left">水平堆叠序列中的数组（列方向）</td>
</tr>
<tr>
<td style="text-align:left"><code>vstack</code></td>
<td style="text-align:left">竖直堆叠序列中的数组（行方向）</td>
</tr>
</tbody>
</table>
</div>
<h4 id="8-2-1-numpy-concatenate"><a href="#8-2-1-numpy-concatenate" class="headerlink" title="8.2.1 numpy.concatenate"></a>8.2.1 numpy.concatenate</h4><p><code>numpy.concatenate</code> 函数用于沿指定轴连接相同形状的两个或多个数组, 格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">numpy.concatenate((a1,a2,...),axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># a1, a2, ... 相同类型的数组</span></span><br><span class="line"><span class="comment"># axis: 沿着它连接数组的轴, 默认为 0. 注: 回一下 Topic 3 里面对轴的介绍</span></span><br></pre></td></tr></table></figure>
<p>我们看一个例子:</p>
<p><strong>[例 8.5]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;第一个数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;第二个数组:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;沿轴 0 连接两个数组:\n&#x27;</span>, np.concatenate((a,b),axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;沿轴 1 连接两个数组:\n&#x27;</span>, np.concatenate((a,b),axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">第一个数组：</span><br><span class="line">[[1 2]</span><br><span class="line"> [3 4]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[[5 6]</span><br><span class="line"> [7 8]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">沿轴 0 连接两个数组：</span><br><span class="line">[[1 2]</span><br><span class="line"> [3 4]</span><br><span class="line"> [5 6]</span><br><span class="line"> [7 8]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">沿轴 1 连接两个数组：</span><br><span class="line">[[1 2 5 6]</span><br><span class="line"> [3 4 7 8]]</span><br></pre></td></tr></table></figure>
<h4 id="8-2-2-numpy-stack"><a href="#8-2-2-numpy-stack" class="headerlink" title="8.2.2 numpy.stack"></a>8.2.2 numpy.stack</h4><p>用法和 <code>numpy.concatenate</code> 类似, 但这不是连接, 而是堆叠, 格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">numpy.stack(arrays, axis)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arrays: 相同形状的数组序列</span></span><br><span class="line"><span class="comment"># axis: 返回数组中的轴，输入数组沿着它来堆叠</span></span><br></pre></td></tr></table></figure>
<p>看一个例子:</p>
<p><strong>[例 8.6]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;第一个数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;第二个数组:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;沿轴 0 堆叠两个数组:\n&#x27;</span>, np.stack((a,b),axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;沿轴 1 堆叠两个数组:\n&#x27;</span>, np.stack((a,b),axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">第一个数组：</span><br><span class="line">[[1 2]</span><br><span class="line"> [3 4]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[[5 6]</span><br><span class="line"> [7 8]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">沿轴 0 堆叠两个数组:</span><br><span class="line"> [[[1 2]</span><br><span class="line">  [3 4]]</span><br><span class="line"></span><br><span class="line"> [[5 6]</span><br><span class="line">  [7 8]]]</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">沿轴 1 堆叠两个数组:</span><br><span class="line"> [[[1 2]</span><br><span class="line">  [5 6]]</span><br><span class="line"></span><br><span class="line"> [[3 4]</span><br><span class="line">  [7 8]]]</span><br></pre></td></tr></table></figure>
<h4 id="8-2-3-numpy-hstack"><a href="#8-2-3-numpy-hstack" class="headerlink" title="8.2.3 numpy.hstack"></a>8.2.3 numpy.hstack</h4><p><code>numpy.hstack</code> 是 <code>numpy.stack</code> 函数的变体, 它通过水平堆叠来生成数组.</p>
<p><strong>[例 8.7]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;第一个数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;第二个数组:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;水平堆叠:\n&#x27;</span>,np.hstack((a,b))) <span class="comment"># 接受 tuple 或 list</span></span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">第一个数组：</span><br><span class="line">[[1 2]</span><br><span class="line"> [3 4]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[[5 6]</span><br><span class="line"> [7 8]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">水平堆叠:</span><br><span class="line"> [[1 2 5 6]</span><br><span class="line"> [3 4 7 8]]</span><br></pre></td></tr></table></figure>
<h4 id="8-2-4-numpy-vstack"><a href="#8-2-4-numpy-vstack" class="headerlink" title="8.2.4 numpy.vstack"></a>8.2.4 numpy.vstack</h4><p><code>numpy.vstack</code> 是 <code>numpy.stack</code> 函数的变体, 它通过垂直堆叠来生成数组.</p>
<p><strong>[例 8.8]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;第一个数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;第二个数组:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;竖直堆叠:\n&#x27;</span>,np.vstack((a,b))) <span class="comment"># 接受 tuple 或 list</span></span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">第一个数组：</span><br><span class="line">[[1 2]</span><br><span class="line"> [3 4]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[[5 6]</span><br><span class="line"> [7 8]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">竖直堆叠:</span><br><span class="line"> [[1 2]</span><br><span class="line"> [3 4]</span><br><span class="line"> [5 6]</span><br><span class="line"> [7 8]]</span><br></pre></td></tr></table></figure>
<h3 id="8-3-Split-Array"><a href="#8-3-Split-Array" class="headerlink" title="8.3 Split Array"></a>8.3 Split Array</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">数组及操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>split</code></td>
<td style="text-align:left">将一个数组分割为多个子数组</td>
</tr>
<tr>
<td style="text-align:left"><code>hsplit</code></td>
<td style="text-align:left">将一个数组水平分割为多个子数组（按列）</td>
</tr>
<tr>
<td style="text-align:left"><code>vsplit</code></td>
<td style="text-align:left">将一个数组垂直分割为多个子数组（按行）</td>
</tr>
</tbody>
</table>
</div>
<h4 id="8-3-1-numpy-split"><a href="#8-3-1-numpy-split" class="headerlink" title="8.3.1 numpy.split"></a>8.3.1 numpy.split</h4><p>numpy.split 函数沿特定的轴将数组分割为子数组, 格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.split(arr, indicies_or_sections, axis)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 待分割的数组</span></span><br><span class="line"><span class="comment"># indicies_or_sections: 如果是一个整数, 就用该数平均切分, 如果是一个数组, 为沿轴切分的位置（左开右闭）</span></span><br><span class="line"><span class="comment"># axis: 沿着哪个维度进行切向，默认为0，横向切分. 为1时，纵向切分.</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 8.9]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">print(<span class="string">&#x27;第一个数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;横向切分:\n&#x27;</span>,np.split(a,<span class="number">3</span>,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;纵向切分:\n&#x27;</span>,np.split(a,<span class="number">3</span>,axis=<span class="number">1</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;传入数组不均匀切分:\n&#x27;</span>,np.split(a,[<span class="number">2</span>,],axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">第一个数组:</span><br><span class="line"> [[0 1 2]</span><br><span class="line"> [3 4 5]</span><br><span class="line"> [6 7 8]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">横向切分:</span><br><span class="line"> [array([[0, 1, 2]]), array([[3, 4, 5]]), array([[6, 7, 8]])]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">纵向切分:</span><br><span class="line"> [array([[0],</span><br><span class="line">       [3],</span><br><span class="line">       [6]]), array([[1],</span><br><span class="line">       [4],</span><br><span class="line">       [7]]), array([[2],</span><br><span class="line">       [5],</span><br><span class="line">       [8]])]</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">传入数组不均匀切分:</span><br><span class="line"> [array([[0, 1],</span><br><span class="line">       [3, 4],</span><br><span class="line">       [6, 7]]), array([[2],</span><br><span class="line">       [5],</span><br><span class="line">       [8]])]</span><br></pre></td></tr></table></figure>
<h4 id="8-3-2-numpy-hsplit"><a href="#8-3-2-numpy-hsplit" class="headerlink" title="8.3.2 numpy.hsplit"></a>8.3.2 numpy.hsplit</h4><p>numpy.hsplit 函数用于水平分割数组, 通过指定要返回的相同形状的数组数量来拆分原数组.</p>
<p><strong>[例 8.10]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.floor(<span class="number">10</span> * np.random.random((<span class="number">2</span>, <span class="number">6</span>)))</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;拆分后:\n&#x27;</span>,np.hsplit(a,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[1. 1. 8. 7. 4. 3.]</span><br><span class="line"> [2. 7. 0. 4. 8. 6.]]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">拆分后:</span><br><span class="line"> [array([[1., 1.],</span><br><span class="line">       [2., 7.]]), array([[8., 7.],</span><br><span class="line">       [0., 4.]]), array([[4., 3.],</span><br><span class="line">       [8., 6.]])]</span><br></pre></td></tr></table></figure>
<h4 id="8-3-3-numpy-vsplit"><a href="#8-3-3-numpy-vsplit" class="headerlink" title="8.3.3 numpy.vsplit"></a>8.3.3 numpy.vsplit</h4><p><code>numpy.vsplit</code> 沿着垂直轴分割, 其分割方式与hsplit用法相同。</p>
<p><strong>[例 8.11]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;拆分后:\n&#x27;</span>,np.vsplit(a,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[ 0  1  2  3]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [ 8  9 10 11]</span><br><span class="line"> [12 13 14 15]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">拆分后:</span><br><span class="line"> [array([[0, 1, 2, 3],</span><br><span class="line">       [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],</span><br><span class="line">       [12, 13, 14, 15]])]</span><br></pre></td></tr></table></figure>
<h3 id="8-4-Add-and-Delete-Elements-of-Array"><a href="#8-4-Add-and-Delete-Elements-of-Array" class="headerlink" title="8.4 Add and Delete Elements of Array"></a>8.4 Add and Delete Elements of Array</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">元素及描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>append</code></td>
<td style="text-align:left">将值添加到数组末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>insert</code></td>
<td style="text-align:left">沿指定轴将值插入到指定下标之前</td>
</tr>
<tr>
<td style="text-align:left"><code>delete</code></td>
<td style="text-align:left">删掉某个轴的子数组，并返回删除后的新数组</td>
</tr>
<tr>
<td style="text-align:left"><code>unique</code></td>
<td style="text-align:left">用于移去数组中的重复值</td>
</tr>
</tbody>
</table>
</div>
<h4 id="8-4-1-numpy-append"><a href="#8-4-1-numpy-append" class="headerlink" title="8.4.1 numpy.append"></a>8.4.1 numpy.append</h4><p>numpy.append 函数在数组的末尾添加值.  追加操作会分配整个数组, 并把原来的数组复制到新数组中. 此外, 输入数组的维度必须匹配否则将生成ValueError. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.append(arr, values, axis=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 原数组</span></span><br><span class="line"><span class="comment"># values: 要向arr添加的值, 需要和arr形状相同 (除了要添加的轴)</span></span><br><span class="line"><span class="comment"># axis: 默认为 None. 当axis无定义时，是横向添加, 返回总是为一维数组! 当axis有定义的时候, 分别为0和1的时候. 当axis有定义的时候, 分别为0和1的时候 (列数要相同). 当axis为1时, 数组是加在右边 (行数要相同).</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 8.12]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;向数组添加元素,不定义 axis:\n&#x27;</span>,np.append(a,[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;沿轴 0 添加元素:\n&#x27;</span>,np.append(a,[[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;沿轴 1 添加元素:\n&#x27;</span>,np.append(a,[[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">向数组添加元素,不定义 axis:</span><br><span class="line"> [1 2 3 4 5 6 7 8 9]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">沿轴 0 添加元素:</span><br><span class="line"> [[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [7 8 9]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">沿轴 1 添加元素:</span><br><span class="line"> [[1 2 3 5 5 5]</span><br><span class="line"> [4 5 6 7 8 9]]</span><br></pre></td></tr></table></figure>
<h4 id="8-4-2-numpy-insert"><a href="#8-4-2-numpy-insert" class="headerlink" title="8.4.2 numpy.insert"></a>8.4.2 numpy.insert</h4><p><code>numpy.insert</code> 函数在给定索引之前, 沿给定轴在输入数组中插入值.</p>
<p>插入函数会返回一个新数组. 此外, 如果未提供轴, 则输入数组会被展开, 格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.insert(arr, obj, values, axis)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 待插入数组</span></span><br><span class="line"><span class="comment"># obj: 插入处的索引值</span></span><br><span class="line"><span class="comment"># values: 要插入的值</span></span><br><span class="line"><span class="comment"># axis: 沿轴插入, 如果未提供, 则待插入数组会被展开</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 8.13]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;未传递 Axis 参数, 在插入之前输入数组会被展开:\n&#x27;</span>, np.insert(a,<span class="number">3</span>,[<span class="number">11</span>,<span class="number">12</span>]))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;传递 Axis 参数, 沿轴 0 广播:\n&#x27;</span>,np.insert(a,<span class="number">1</span>,[<span class="number">11</span>],axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;传递 Axis 参数, 沿轴 1 广播:\n&#x27;</span>,np.insert(a,<span class="number">1</span>,[<span class="number">11</span>],axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[1 2]</span><br><span class="line"> [3 4]</span><br><span class="line"> [5 6]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">未传递 Axis 参数, 在插入之前输入数组会被展开:</span><br><span class="line"> [ 1  2  3 11 12  4  5  6]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">传递 Axis 参数, 沿轴 0 广播:</span><br><span class="line"> [[ 1  2]</span><br><span class="line"> [11 11]</span><br><span class="line"> [ 3  4]</span><br><span class="line"> [ 5  6]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">传递 Axis 参数, 沿轴 1 广播:</span><br><span class="line"> [[ 1 11  2]</span><br><span class="line"> [ 3 11  4]</span><br><span class="line"> [ 5 11  6]]</span><br></pre></td></tr></table></figure>
<h4 id="8-4-3-numpy-delete"><a href="#8-4-3-numpy-delete" class="headerlink" title="8.4.3 numpy.delete"></a>8.4.3 numpy.delete</h4><p><code>numpy.delete</code> 函数返回从输入数组中删除指定子数组的新数组. 与 insert() 函数的情况一样, 如果未提供轴参数, 则输入数组将展开, 格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.delete(arr, obj, axis)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 输入数组</span></span><br><span class="line"><span class="comment"># obj: 整数或者整数数组, 待删除的索引</span></span><br><span class="line"><span class="comment"># axis: 按指定轴删除, 如果未提供, 则输入数组会被展开</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 8.14]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;未传递 Axis 参数, 在插入之前输入数组会被展开:\n&#x27;</span>, np.delete(a,<span class="number">5</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;删除第二行:\n&#x27;</span>, np.delete(a,<span class="number">1</span>,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;删除第二列:\n&#x27;</span>, np.delete(a,<span class="number">1</span>,axis=<span class="number">1</span>))</span><br><span class="line">print(<span class="string">&#x27;包含从数组中删除的替代值的切片:\n&#x27;</span>, np.delete(a, np.s_[::<span class="number">2</span>]))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[ 0  1  2  3]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [ 8  9 10 11]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">未传递 Axis 参数, 在插入之前输入数组会被展开:</span><br><span class="line"> [ 0  1  2  3  4  6  7  8  9 10 11]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">删除第二行:</span><br><span class="line"> [[ 0  1  2  3]</span><br><span class="line"> [ 8  9 10 11]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">删除第二列:</span><br><span class="line"> [[ 0  2  3]</span><br><span class="line"> [ 4  6  7]</span><br><span class="line"> [ 8 10 11]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">包含从数组中删除的替代值的切片:</span><br><span class="line"> [ 1  3  5  7  9 11]</span><br></pre></td></tr></table></figure>
<h4 id="8-4-4-numpy-unique"><a href="#8-4-4-numpy-unique" class="headerlink" title="8.4.4 numpy.unique"></a>8.4.4 numpy.unique</h4><p>numpy.unique 函数用于去除数组中的重复元素, 用法如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.unique(arr, return_index, return_inverse, return_counts)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 输入数组，如果不是一维数组则会展开</span></span><br><span class="line"><span class="comment"># return_index: 如果为true, 返回新列表元素在旧列表中的位置 (下标), 并以列表形式存储</span></span><br><span class="line"><span class="comment"># return_inverse: 如果为true, 返回旧列表元素在新列表中的位置 (下标), 并以列表形式储</span></span><br><span class="line"><span class="comment"># return_counts: 如果为true, 返回去重数组中的元素在原数组中的出现次数</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 8.15]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">9</span>])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;去重之后的数组:\n&#x27;</span>,np.unique(a))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;新列表元素在旧列表中的下标:&#x27;</span>)</span><br><span class="line">u,indicies = np.unique(a, return_index=<span class="literal">True</span>)</span><br><span class="line">print(indicies)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;旧列表元素在新列表中的下标:&#x27;</span>)</span><br><span class="line">u,indicies = np.unique(a, return_inverse=<span class="literal">True</span>)</span><br><span class="line">print(indicies)</span><br><span class="line">print(<span class="string">&#x27;使用下标重构原数组:\n&#x27;</span>,u[indicies])</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;返回去重元素的重复数量:&#x27;</span>)</span><br><span class="line">u,counts = np.unique(a, return_counts=<span class="literal">True</span>)</span><br><span class="line">print(u)</span><br><span class="line">print(counts)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [5 2 6 2 7 5 6 8 2 9]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">去重之后的数组:</span><br><span class="line"> [2 5 6 7 8 9]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">新列表元素在旧列表中的下标:</span><br><span class="line"> [1 0 2 4 7 9]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">旧列表元素在新列表中的下标:</span><br><span class="line"> [1 0 2 0 3 1 2 4 0 5]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">使用下标重构原数组:</span><br><span class="line"> [5 2 6 2 7 5 6 8 2 9]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">print(&#39;返回去重元素的重复数量:&#39;)</span><br><span class="line"> [2 5 6 7 8 9]</span><br><span class="line"> [3 2 2 1 1 1]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-9-Math-Functions"><a href="#Topic-9-Math-Functions" class="headerlink" title="Topic 9 Math Functions"></a>Topic 9 Math Functions</h2><h3 id="9-1-Trigonometric-Functions"><a href="#9-1-Trigonometric-Functions" class="headerlink" title="9.1 Trigonometric Functions"></a>9.1 Trigonometric Functions</h3><p>NumPy 提供了标准的三角函数：sin()、cos()、tan().</p>
<p><strong>[例 9.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">0</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">60</span>,<span class="number">90</span>])</span><br><span class="line">print(<span class="string">&#x27;不同角度的正弦值:\n&#x27;</span>,np.sin(a*np.pi/<span class="number">180</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;不同角度的余弦值:\n&#x27;</span>,np.cos(a*np.pi/<span class="number">180</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;不同角度的正切值:\n&#x27;</span>,np.tan(a*np.pi/<span class="number">180</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">不同角度的正弦值:</span><br><span class="line"> [0.         0.5        0.70710678 0.8660254  1.        ]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">不同角度的余弦值:</span><br><span class="line"> [1.00000000e+00 8.66025404e-01 7.07106781e-01 5.00000000e-01</span><br><span class="line"> 6.12323400e-17]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">不同角度的正切值:</span><br><span class="line"> [0.00000000e+00 5.77350269e-01 1.00000000e+00 1.73205081e+00</span><br><span class="line"> 1.63312394e+16]</span><br></pre></td></tr></table></figure>
<p>NumPy 提供了标准的三角函数的反函数: arcsin, arccos, arctan. 就不再举例了.</p>
<h3 id="9-2-numpy-floor"><a href="#9-2-numpy-floor" class="headerlink" title="9.2 numpy.floor"></a>9.2 numpy.floor</h3><p><code>numpy.floor()</code> 返回小于或者等于指定表达式的最大整数, 即向下取整.</p>
<p><strong>[例 9.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([-<span class="number">1.7</span>,<span class="number">1.5</span>,-<span class="number">0.2</span>,<span class="number">0.6</span>,<span class="number">10</span>])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;修改后的数组:\n&#x27;</span>,np.floor(a))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [-1.7  1.5 -0.2  0.6 10. ]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">修改后的数组:</span><br><span class="line"> [-2.  1. -1.  0. 10.]</span><br></pre></td></tr></table></figure>
<h3 id="9-3-numpy-ceil"><a href="#9-3-numpy-ceil" class="headerlink" title="9.3 numpy.ceil"></a>9.3 numpy.ceil</h3><p><code>numpy.ceil()</code> 返回大于或者等于指定表达式的最小整数, 即向上取整.</p>
<p><strong>[例 9.3]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([-<span class="number">1.7</span>,<span class="number">1.5</span>,-<span class="number">0.2</span>,<span class="number">0.6</span>,<span class="number">10</span>])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;修改后的数组:\n&#x27;</span>,np.ceil(a))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [-1.7  1.5 -0.2  0.6 10. ]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">修改后的数组:</span><br><span class="line"> [-1.  2. -0.  1. 10.]</span><br></pre></td></tr></table></figure>
<h3 id="9-4-Arithmatic-Functions"><a href="#9-4-Arithmatic-Functions" class="headerlink" title="9.4 Arithmatic Functions"></a>9.4 Arithmatic Functions</h3><p>NumPy 算术函数包含简单的加减乘除: <strong>add()</strong>, <strong>subtract()</strong>, <strong>multiply()</strong> 和 <strong>divide()</strong>. 需要注意的是数组必须具有相同的形状或符合数组广播规则. 在这里, 我就不举例子了.</p>
<h3 id="9-5-numpy-reciprocal"><a href="#9-5-numpy-reciprocal" class="headerlink" title="9.5 numpy.reciprocal"></a>9.5 numpy.reciprocal</h3><p><code>numpy.reciprocal()</code> 函数返回参数逐元素的倒数. 如 <strong>1/4</strong> 倒数为 <strong>4/1</strong>.</p>
<p><strong>[例 9.4]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">0.25</span>, <span class="number">1.33</span>, <span class="number">1</span>, <span class="number">100</span>])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;渠倒数的数组:\n&#x27;</span>,np.reciprocal(a))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [  0.25   1.33   1.   100.  ]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">渠倒数的数组:</span><br><span class="line"> [4.        0.7518797 1.        0.01     ]</span><br></pre></td></tr></table></figure>
<h3 id="9-6-numpy-power"><a href="#9-6-numpy-power" class="headerlink" title="9.6 numpy.power"></a>9.6 numpy.power</h3><p><code>numpy.power()</code> 函数将第一个输入数组中的元素作为底数, 计算它与第二个输入数组中相应元素的幂.</p>
<p><strong>[例 9.5]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 power 函数(固定的幂):\n&#x27;</span>,np.power(a,<span class="number">2</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 power 函数(多个幂):\n&#x27;</span>,np.power(a,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [  10  100 1000]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 power 函数(固定的幂):</span><br><span class="line"> [    100   10000 1000000]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 power 函数(多个幂):</span><br><span class="line"> [        10      10000 1000000000]</span><br></pre></td></tr></table></figure>
<h3 id="9-7-numpy-mod"><a href="#9-7-numpy-mod" class="headerlink" title="9.7 numpy.mod"></a>9.7 numpy.mod</h3><p><code>numpy.mod()</code> 计算输入数组中相应元素的相除后的余数. 函数 <code>numpy.remainder()</code> 也产生相同的结果.</p>
<p><strong>[例 9.6]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>])</span><br><span class="line">b = np.array([<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>])</span><br><span class="line">print(<span class="string">&#x27;第一个数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;第二个数组:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 mod 函数:\n&#x27;</span>,np.mod(a,b))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 remainder 函数:\n&#x27;</span>,np.remainder(a,b))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">第一个数组：</span><br><span class="line">[10 20 30]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组：</span><br><span class="line">[3 5 7]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">调用 mod 函数：</span><br><span class="line">[1 0 2]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">调用 remainder 函数：</span><br><span class="line">[1 0 2]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-10-Stat-Functions"><a href="#Topic-10-Stat-Functions" class="headerlink" title="Topic 10 Stat Functions"></a>Topic 10 Stat Functions</h2><h3 id="10-1-numpy-amin-amp-numpy-amax"><a href="#10-1-numpy-amin-amp-numpy-amax" class="headerlink" title="10.1 numpy.amin &amp; numpy.amax"></a>10.1 numpy.amin &amp; numpy.amax</h3><ul>
<li><p><code>numpy.amin(arr, axis=None)</code> 用于计算数组中的元素沿指定轴的最小值. </p>
</li>
<li><p><code>numpy.amax(arr, axis=None)</code> 用于计算数组中的元素沿指定轴的最大值. </p>
</li>
</ul>
<p><strong>[例 10.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 amin() 函数且轴数为 0:\n&#x27;</span>,np.amin(a,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 amin() 函数且轴数为 1:\n&#x27;</span>,np.amin(a,axis=<span class="number">1</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 amax() 函数且轴数为 0:\n&#x27;</span>,np.amax(a,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 amax() 函数且轴数为 1:\n&#x27;</span>,np.amax(a,axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[3 7 5]</span><br><span class="line"> [8 4 3]</span><br><span class="line"> [2 4 9]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 amin() 函数且轴数为 0:</span><br><span class="line"> [2 4 3]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 amin() 函数且轴数为 1:</span><br><span class="line"> [3 3 2]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 amax() 函数且轴数为 0:</span><br><span class="line"> [8 7 9]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 amax() 函数且轴数为 1:</span><br><span class="line"> [7 8 9]</span><br></pre></td></tr></table></figure>
<h3 id="10-2-numpy-ptp"><a href="#10-2-numpy-ptp" class="headerlink" title="10.2 numpy.ptp"></a>10.2 numpy.ptp</h3><p><code>numpy.ptp(arr, axis=None)</code> 函数计算数组中元素最大值与最小值的差 (最大值 - 最小值).</p>
<p><strong>[例 10.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 ptp() 函数且不指定轴数:\n&#x27;</span>,np.ptp(a))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 ptp() 函数且轴数为 0:\n&#x27;</span>,np.ptp(a,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 ptp() 函数且轴数为 1:\n&#x27;</span>,np.ptp(a,axis=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[3 7 5]</span><br><span class="line"> [8 4 3]</span><br><span class="line"> [2 4 9]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 ptp() 函数且不指定轴数:</span><br><span class="line"> 7</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 ptp() 函数且轴数为 0:</span><br><span class="line"> [6 3 6]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 ptp() 函数且轴数为 1:</span><br><span class="line"> [4 5 7]</span><br></pre></td></tr></table></figure>
<h3 id="10-3-numpy-percentile"><a href="#10-3-numpy-percentile" class="headerlink" title="10.3 numpy.percentile"></a>10.3 numpy.percentile</h3><p>百分位数是统计中使用的度量, 用法如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.percentile(arr, Q, axis=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 输入数组</span></span><br><span class="line"><span class="comment"># Q: 百分位, 取值范围在 0 ~ 100 之间</span></span><br><span class="line"><span class="comment"># axis: 指定轴位</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 10.3]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">10</span>,<span class="number">7</span>,<span class="number">4</span>],[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 percentile() 函数且不指定轴数:\n&#x27;</span>,np.percentile(a,<span class="number">50</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 percentile() 函数且轴数为 0:\n&#x27;</span>,np.percentile(a,<span class="number">50</span>,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 percentile() 函数且轴数为 1:\n&#x27;</span>,np.percentile(a,<span class="number">50</span>,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[10  7  4]</span><br><span class="line"> [ 3  2  1]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 percentile() 函数且不指定轴数:</span><br><span class="line"> 3.5</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 percentile() 函数且轴数为 0:</span><br><span class="line"> [6.5 4.5 2.5]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 percentile() 函数且轴数为 1:</span><br><span class="line"> [6.5 4.5 2.5]</span><br></pre></td></tr></table></figure>
<h3 id="10-4-numpy-mean"><a href="#10-4-numpy-mean" class="headerlink" title="10.4 numpy.mean"></a>10.4 numpy.mean</h3><p><code>numpy.mean(arr, axis=None)</code> 函数返回数组中元素的算术平均值 (权重相等). 如果提供了轴, 则沿其计算.</p>
<h3 id="10-5-numpy-average"><a href="#10-5-numpy-average" class="headerlink" title="10.5 numpy.average"></a>10.5 numpy.average</h3><p><code>numpy.average()</code> 函数根据在另一个数组中给出的各自的权重计算数组中元素的加权平均值. 用法如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.average(arr, weights=<span class="literal">None</span>, returned=<span class="literal">False</span>, axis=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 输入数组</span></span><br><span class="line"><span class="comment"># weights: 平均的权重</span></span><br><span class="line"><span class="comment"># returned: 是否返回权重的和</span></span><br><span class="line"><span class="comment"># axis: 指定轴数</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 10.4]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 average() 函数, 不指定权重:\n&#x27;</span>,np.average(a))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 average() 函数, 指定权重, 并返回权重的和:\n&#x27;</span>,np.average(a, weights=[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>],returned=<span class="literal">True</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [1 2 3 4]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 average() 函数, 不指定权重:</span><br><span class="line"> 2.5</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 average() 函数, 指定权重, 并返回权重的和:</span><br><span class="line"> (2.0, 10.0)</span><br></pre></td></tr></table></figure>
<h3 id="10-6-numpy-std-amp-numpy-var"><a href="#10-6-numpy-std-amp-numpy-var" class="headerlink" title="10.6 numpy.std &amp; numpy.var"></a>10.6 numpy.std &amp; numpy.var</h3><p><code>numpy.std(arr, axis=None) &amp; numpy.var(arr, axis=None)</code> 求标准差和方差</p>
<p><strong>[例 10.5]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">24</span>).reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;求取标准差:\n&#x27;</span>,np.std(a,axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;求取方差:\n&#x27;</span>,np.var(a,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[ 0  1  2  3  4  5]</span><br><span class="line"> [ 6  7  8  9 10 11]</span><br><span class="line"> [12 13 14 15 16 17]</span><br><span class="line"> [18 19 20 21 22 23]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">求取标准差:</span><br><span class="line"> [6.70820393 6.70820393 6.70820393 6.70820393 6.70820393 6.70820393]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">求取方差:</span><br><span class="line"> [45. 45. 45. 45. 45. 45.]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-11-Search-amp-Condition-Statements"><a href="#Topic-11-Search-amp-Condition-Statements" class="headerlink" title="Topic 11 Search &amp; Condition Statements"></a>Topic 11 Search &amp; Condition Statements</h2><h3 id="11-1-numpy-sort"><a href="#11-1-numpy-sort" class="headerlink" title="11.1 numpy.sort"></a>11.1 numpy.sort</h3><p>Numpy 提供了多种排序的方法. 这些排序函数实现不同的排序算法, 每个排序算法的特征在于执行速度, 最坏情况性能, 所需的工作空间和算法的稳定性. 下表显示了三种排序算法的比较.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">种类</th>
<th style="text-align:left">速度</th>
<th style="text-align:left">最坏情况</th>
<th style="text-align:left">工作空间</th>
<th style="text-align:left">稳定性</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>quicksort</code>（快速排序）</td>
<td style="text-align:left">1</td>
<td style="text-align:left"><code>O(n^2)</code></td>
<td style="text-align:left">0</td>
<td style="text-align:left">否</td>
</tr>
<tr>
<td style="text-align:left"><code>mergesort</code>（归并排序）</td>
<td style="text-align:left">2</td>
<td style="text-align:left"><code>O(n*log(n))</code></td>
<td style="text-align:left">~n/2</td>
<td style="text-align:left">是</td>
</tr>
<tr>
<td style="text-align:left"><code>heapsort</code>（堆排序）</td>
<td style="text-align:left">3</td>
<td style="text-align:left"><code>O(n*log(n))</code></td>
<td style="text-align:left">0</td>
<td style="text-align:left">否</td>
</tr>
</tbody>
</table>
</div>
<p>numpy.sort() 函数返回输入数组的排序副本. 函数用法如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.sort(arr, axis=<span class="number">1</span>, kind=<span class="string">&#x27;quicksort&#x27;</span>, order=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># arr: 待排序数组</span></span><br><span class="line"><span class="comment"># axis: 沿着排序数组的轴, 如果没有指定数组会被展开. axis=0 按列排序，axis=1 按行排序 (默认)</span></span><br><span class="line"><span class="comment"># kind: 默认为快速排序 &#x27;quicksort</span></span><br><span class="line"><span class="comment"># order: 如果数组包含字段，则是要排序的字段</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 11.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>],[<span class="number">9</span>,<span class="number">1</span>]])</span><br><span class="line">print(<span class="string">&#x27;原数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 sort() 函数, 且不指定轴:\n&#x27;</span>,np.sort(a,axis=<span class="literal">None</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 sort() 函数, 并按列排序:\n&#x27;</span>,np.sort(a, axis=<span class="number">0</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;指定数据列名, 然后排序.&#x27;</span>)</span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S10&#x27;</span>),(<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;i2&#x27;</span>)])</span><br><span class="line">a = np.array([(<span class="string">&#x27;raju&#x27;</span>,<span class="number">21</span>),(<span class="string">&#x27;anil&#x27;</span>,<span class="number">25</span>),(<span class="string">&#x27;ravi&#x27;</span>,<span class="number">17</span>),(<span class="string">&#x27;amar&#x27;</span>,<span class="number">27</span>)],dtype=dt)</span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;按 name 排序:\n&#x27;</span>,np.sort(a,order=<span class="string">&#x27;name&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">原数组:</span><br><span class="line"> [[3 7]</span><br><span class="line"> [9 1]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 sort() 函数, 且不指定轴:</span><br><span class="line"> [1 3 7 9]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 sort() 函数, 并按列排序:</span><br><span class="line"> [[3 1]</span><br><span class="line"> [9 7]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">指定数据列名, 然后排序.</span><br><span class="line">我们的数组是:</span><br><span class="line"> [(b&#39;raju&#39;, 21) (b&#39;anil&#39;, 25) (b&#39;ravi&#39;, 17) (b&#39;amar&#39;, 27)]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">按 name 排序:</span><br><span class="line"> [(b&#39;amar&#39;, 27) (b&#39;anil&#39;, 25) (b&#39;raju&#39;, 21) (b&#39;ravi&#39;, 17)]</span><br></pre></td></tr></table></figure>
<h3 id="11-2-numpy-argsort"><a href="#11-2-numpy-argsort" class="headerlink" title="11.2 numpy.argsort"></a>11.2 numpy.argsort</h3><p><code>numpy.argsort()</code> 函数返回的是数组值从小到大的索引值.</p>
<p><strong>[例 11.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>]) </span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,x)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;对 x 调用 argsort() 函数:\n&#x27;</span>,np.argsort(x))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;以排序后的顺序重构原数组:\n&#x27;</span>,x[np.argsort(x)])</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是:</span><br><span class="line"> [3 1 2]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">对 x 调用 argsort() 函数:</span><br><span class="line"> [1 2 0]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">以排序后的顺序重构原数组:</span><br><span class="line"> [1 2 3]</span><br></pre></td></tr></table></figure>
<h3 id="11-3-numpy-lexsort"><a href="#11-3-numpy-lexsort" class="headerlink" title="11.3 numpy.lexsort()"></a>11.3 numpy.lexsort()</h3><p>numpy.lexsort() 用于对多个序列进行排序. 把它想象成对电子表格进行排序, 每一列代表一个序列, 排序时优先照顾靠后的列.</p>
<p><strong>[例 11.3]</strong></p>
<p>录入了四位同学的成绩，按照总分排序，总分相同时语文高的优先.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">math    = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">10</span>)</span><br><span class="line">chinese = (<span class="number">30</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">60</span>)</span><br><span class="line">total   = (<span class="number">40</span>, <span class="number">70</span>, <span class="number">90</span>, <span class="number">70</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将优先级高的项放在后面</span></span><br><span class="line">indicies = np.lexsort((math, chinese, total))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx <span class="keyword">in</span> indicies:</span><br><span class="line">    print(total[i],chinese[i],math[i])</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">40 30 10</span><br><span class="line">70 50 20</span><br><span class="line">70 60 10</span><br><span class="line">90 40 50</span><br></pre></td></tr></table></figure>
<h3 id="11-4-numpy-argmax-amp-numpy-argmin"><a href="#11-4-numpy-argmax-amp-numpy-argmin" class="headerlink" title="11.4 numpy.argmax() &amp; numpy.argmin()"></a>11.4 numpy.argmax() &amp; numpy.argmin()</h3><p><code>numpy.argmax()</code> 和 <code>numpy.argmin()</code> 函数分别沿给定轴返回最大和最小元素的索引.</p>
<h3 id="11-5-numpy-nonzero"><a href="#11-5-numpy-nonzero" class="headerlink" title="11.5 numpy.nonzero"></a>11.5 numpy.nonzero</h3><p><code>numpy.nonzero()</code> 函数返回输入数组中非零元素的索引.</p>
<p><strong>[例 11.4]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">30</span>,<span class="number">40</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">20</span>,<span class="number">10</span>],[<span class="number">50</span>,<span class="number">0</span>,<span class="number">60</span>]])</span><br><span class="line">print(<span class="string">&#x27;我们的数组:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 nonzero() 函数:\n&#x27;</span>,np.nonzero(a))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">我们的数组:</span><br><span class="line"> [[30 40  0]</span><br><span class="line"> [ 0 20 10]</span><br><span class="line"> [50  0 60]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 nonzero() 函数:</span><br><span class="line"> (array([0, 0, 1, 1, 2, 2]), array([0, 1, 1, 2, 0, 2]))</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line">得到的是一个长度为2的元组。它的第0个元素是数组a中值不为0的元素的第0轴的下标，第1个元素则是第1轴的下标</span><br></pre></td></tr></table></figure>
<h3 id="11-6-numpy-where"><a href="#11-6-numpy-where" class="headerlink" title="11.6 numpy.where"></a>11.6 numpy.where</h3><p><code>numpy.where()</code> 函数返回输入数组中满足给定条件的元素的索引.</p>
<p><strong>[例 11.5]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;大于 3 的元素的索引是:\n&#x27;</span>,np.where(a&gt;<span class="number">3</span>))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;用这些索引来索取元素:\n&#x27;</span>,a[np.where(a&gt;<span class="number">3</span>)])</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是:</span><br><span class="line"> [[0 1 2]</span><br><span class="line"> [3 4 5]</span><br><span class="line"> [6 7 8]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">大于 3 的元素的索引是:</span><br><span class="line"> (array([1, 1, 2, 2, 2]), array([1, 2, 0, 1, 2]))</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">用这些索引来索取元素:</span><br><span class="line"> [4 5 6 7 8]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-12-Copy-and-View"><a href="#Topic-12-Copy-and-View" class="headerlink" title="Topic 12 Copy and View"></a>Topic 12 Copy and View</h2><p><strong>副本</strong>是一个数据的完整的拷贝, 如果我们对副本进行修改, 它不会影响到原始数据, 物理内存不在同一位置. </p>
<ul>
<li>Python 序列的切片操作, 调用deepCopy()函数.</li>
<li>调用 ndarray 的 copy() 函数产生一个副本.</li>
</ul>
<p><strong>视图</strong>是数据的一个别称或引用, 通过该别称或引用亦便可访问、操作原有数据，但原有数据不会产生拷贝. 如果我们对视图进行修改, 它会影响到原始数据, 物理内存在同一位置.</p>
<ul>
<li>numpy 的切片操作返回原数据的视图.</li>
<li>调用 ndarray 的 view() 函数产生一个视图.</li>
</ul>
<p><strong>[例 11.1]</strong></p>
<p>简单的赋值不会创建数组对象的副本. 相反, 它使用原始数组的相同id()来访问它. id()返回 Python 对象的通用标识符, 类似于 C 中的指针此外, 一个数组的任何变化都反映在另一个数组上. 例如, 一个数组的形状改变也会改变另一个数组的形状.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">6</span>)</span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 id() 函数, 查看 a 的 id:\n&#x27;</span>,<span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;将 a 赋值给 b:&#x27;</span>)</span><br><span class="line">b = a</span><br><span class="line">print(b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;调用 id() 函数, 查看 b 的 id:\n&#x27;</span>,<span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;修改 b 的形状:&#x27;</span>)</span><br><span class="line">b.shape = <span class="number">3</span>,<span class="number">2</span></span><br><span class="line">print(b)</span><br><span class="line">print(<span class="string">&#x27;a 的形状也随之被修改:\n&#x27;</span>,a)</span><br></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是:</span><br><span class="line"> [0 1 2 3 4 5]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 id() 函数, 查看 a 的 id:</span><br><span class="line"> 140651199630432</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">将 a 赋值给 b:</span><br><span class="line"> [0 1 2 3 4 5]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">调用 id() 函数, 查看 b 的 id:</span><br><span class="line"> 140651199630432</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">修改 b 的形状:</span><br><span class="line"> [[0 1]</span><br><span class="line"> [2 3]</span><br><span class="line"> [4 5]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">a 的形状也随之被修改:</span><br><span class="line"> [[0 1]</span><br><span class="line"> [2 3]</span><br><span class="line"> [4 5]]</span><br></pre></td></tr></table></figure>
<h3 id="12-1-View-ShallowCopy"><a href="#12-1-View-ShallowCopy" class="headerlink" title="12.1 View (ShallowCopy)"></a>12.1 View (ShallowCopy)</h3><p><code>ndarray.view()</code> 方会创建一个新的数组对象, 该方法创建的新数组的维数更改不会更改原始数据的维数. 但修改数据还是会跟随改变.</p>
<p><strong>[例 12.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">print(<span class="string">&#x27;我们的数组是:\n&#x27;</span>,a)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;创建 a 的视图:&#x27;</span>)</span><br><span class="line">b = a.view()</span><br><span class="line">print(b)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;两个数组的 id 不同.&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;a 的 id:\n&#x27;</span>,<span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&#x27;b 的 id:\n&#x27;</span>,<span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;修改 b 的形状并不会改变 a 的形状.&#x27;</span>)</span><br><span class="line">b.shape = <span class="number">2</span>,<span class="number">3</span></span><br><span class="line">print(<span class="string">&#x27;b 的形状:\n&#x27;</span>,b)</span><br><span class="line">print(<span class="string">&#x27;a 的形状:\n&#x27;</span>,a)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是:</span><br><span class="line"> [[0 1]</span><br><span class="line"> [2 3]</span><br><span class="line"> [4 5]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">创建 a 的视图:</span><br><span class="line"> [[0 1]</span><br><span class="line"> [2 3]</span><br><span class="line"> [4 5]]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">两个数组的 id 不同.</span><br><span class="line">a 的 id:</span><br><span class="line"> 140651199630192</span><br><span class="line">b 的 id:</span><br><span class="line"> 140651199630672</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">修改 b 的形状并不会改变 a 的形状.</span><br><span class="line">b 的形状:</span><br><span class="line"> [[0 1 2]</span><br><span class="line"> [3 4 5]]</span><br><span class="line">a 的形状:</span><br><span class="line"> [[0 1]</span><br><span class="line"> [2 3]</span><br><span class="line"> [4 5]]</span><br></pre></td></tr></table></figure>
<p>使用<strong>切片</strong>创建视图修改数据会影响到原始数组, 见[例 11.1]</p>
<h3 id="12-2-Copy-DeepCopy"><a href="#12-2-Copy-DeepCopy" class="headerlink" title="12.2 Copy (DeepCopy)"></a>12.2 Copy (DeepCopy)</h3><p><code>ndarray.copy()</code> 函数创建一个副本. 对副本数据进行修改, 不会影响到原始数据, 它们物理内存不在同一位置.</p>
<h2 id="Topic-13-Matrix"><a href="#Topic-13-Matrix" class="headerlink" title="Topic 13 Matrix"></a>Topic 13 Matrix</h2><p>Numpy 中包含了一个矩阵库 <code>numpy.matlib</code>, 该模块中的函数返回的是一个矩阵, 而不是 <code>ndarray</code> 对象.</p>
<h3 id="13-1-Transpose"><a href="#13-1-Transpose" class="headerlink" title="13.1 Transpose"></a>13.1 Transpose</h3><p>Numpy 中除了可以使用 <code>numpy.transpose</code> 函数来对换数组的维度, 还可以使用 <strong>T</strong> 属性. </p>
<h3 id="13-2-numpy-matlib-empty"><a href="#13-2-numpy-matlib-empty" class="headerlink" title="13.2 numpy.matlib.empty"></a>13.2 numpy.matlib.empty</h3><p><code>matlib.empty()</code> 函数返回一个新的矩阵, 语法格式为:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.matlib.empty(shape, dtype, order)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># shape: 矩阵的形状</span></span><br><span class="line"><span class="comment"># dtype: 数据类型</span></span><br><span class="line"><span class="comment"># order: C (行序优先) 或者 F (列序优先)</span></span><br></pre></td></tr></table></figure>
<h3 id="13-3-numpy-matlib-zeros"><a href="#13-3-numpy-matlib-zeros" class="headerlink" title="13.3 numpy.matlib.zeros"></a>13.3 numpy.matlib.zeros</h3><p><code>matlib.zeros()</code> 函数创建一个以 0 填充的矩阵.</p>
<h3 id="13-4-numpy-matlib-ones"><a href="#13-4-numpy-matlib-ones" class="headerlink" title="13.4 numpy.matlib.ones"></a>13.4 numpy.matlib.ones</h3><p><code>matlib.ones()</code> 函数创建一个以 1 填充的矩阵.</p>
<h3 id="13-5-numpy-matlib-eye"><a href="#13-5-numpy-matlib-eye" class="headerlink" title="13.5 numpy.matlib.eye"></a>13.5 numpy.matlib.eye</h3><p><code>matlib.eye()</code> 函数返回一个对角线元素为 1 的矩阵, 语法格式如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numpy.matlib.eye(n, M, k, dtype)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># n: 返回矩阵的行数</span></span><br><span class="line"><span class="comment"># M: 返回矩阵的列数, 默认为 n</span></span><br><span class="line"><span class="comment"># k: 对角线的索引</span></span><br><span class="line"><span class="comment"># dtype: 数据类型</span></span><br></pre></td></tr></table></figure>
<p><strong>[例 13.1]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> numpy.matlib   </span><br><span class="line"></span><br><span class="line">print(np.matlib.eye(n=<span class="number">3</span>,M=<span class="number">3</span>,k=<span class="number">0</span>,dtype=<span class="string">&#x27;i2&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[1 0 0]</span><br><span class="line"> [0 1 0]</span><br><span class="line"> [0 0 1]]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  注:</p>
<p>  <code>numpy.matlib</code> is an optional sub-package of <code>numpy</code> that must be imported separately. When you import just <code>numpy</code> without the sub-package <code>matlib</code>, then Python will be looking for <code>.matlib</code> as an attribute of the <code>numpy</code> package. This attribute has not been assigned to <code>numpy</code> without importing numpy.matlib</p>
</blockquote>
<h3 id="13-6-numpy-matlib-identity"><a href="#13-6-numpy-matlib-identity" class="headerlink" title="13.6 numpy.matlib.identity"></a>13.6 numpy.matlib.identity</h3><p>返回一个给定大小的单位矩阵, 语法如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">numpy.matlib.identity(n, dtype)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line"><span class="comment"># n: 单位矩阵的大小</span></span><br><span class="line"><span class="comment"># dtype: 数据的类型</span></span><br></pre></td></tr></table></figure>
<h3 id="13-7-numpy-matlib-rand"><a href="#13-7-numpy-matlib-rand" class="headerlink" title="13.7 numpy.matlib.rand"></a>13.7 numpy.matlib.rand</h3><p><code>numpy.matlib.rand()</code> 函数创建一个给定大小的矩阵, 数据是随机填充的, 介于 0~1.</p>
<p><strong>[例 13.2]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> numpy.matlib</span><br><span class="line"></span><br><span class="line">print(np.matlib.rand(<span class="number">3</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[0.23519118 0.02624582 0.04782004]</span><br><span class="line"> [0.17469861 0.62994689 0.21809582]</span><br><span class="line"> [0.26929478 0.938636   0.38530064]]</span><br></pre></td></tr></table></figure>
<h3 id="13-8-numpy-matrix-amp-numpy-asarray-amp-numpy-asmatrix"><a href="#13-8-numpy-matrix-amp-numpy-asarray-amp-numpy-asmatrix" class="headerlink" title="13.8 numpy.matrix &amp; numpy.asarray &amp; numpy.asmatrix"></a>13.8 numpy.matrix &amp; numpy.asarray &amp; numpy.asmatrix</h3><p>矩阵总是二维的, 而 ndarray 是一个 n 维数组. 两个对象都是可互换的.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy.matlib</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">i = np.matrix(<span class="string">&#x27;1,2;3,4&#x27;</span>)   <span class="comment"># matlab 式写法</span></span><br><span class="line">print(<span class="string">&#x27;使用 np.matrix 创建矩阵:\n&#x27;</span>,i)</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;将矩阵转化为 ndarray:\n&#x27;</span>,np.asarray(i))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;将 ndarray 转换为矩阵:\n&#x27;</span>,np.asmatrix(np.asarray(i)))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">使用 np.matrix 创建矩阵:</span><br><span class="line"> [[1 2]</span><br><span class="line"> [3 4]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">将矩阵转化为 ndarray:</span><br><span class="line"> [[1 2]</span><br><span class="line"> [3 4]]</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">将 ndarray 转换为矩阵:</span><br><span class="line"> [[1 2]</span><br><span class="line"> [3 4]]</span><br></pre></td></tr></table></figure>
<h2 id="Topic-14-Linear-Algebra"><a href="#Topic-14-Linear-Algebra" class="headerlink" title="Topic 14 Linear Algebra"></a>Topic 14 Linear Algebra</h2><p>Numpy 提供了线性代数函数库 <strong>linalg</strong>, 该库包含了线性代数所需的所有功能，可以看看下面的说明:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>numpy.dot</code></td>
<td style="text-align:left">对于一维数组是点积, 对于二维数组是矩阵的乘积</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.vdot</code></td>
<td style="text-align:left">无论是一维还是二维数组都是点积</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.inner</code></td>
<td style="text-align:left">两个数组的内积, 对于二维矩阵等同于 <code>numpy.dot(a,b.T)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.matmul</code></td>
<td style="text-align:left">两个数组的矩阵积</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.linalg.det</code></td>
<td style="text-align:left">矩阵的行列式</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.linalg.solve</code></td>
<td style="text-align:left">求解线性矩阵方程</td>
</tr>
<tr>
<td style="text-align:left"><code>numpy.linalg.inv</code></td>
<td style="text-align:left">计算矩阵的乘法逆矩阵</td>
</tr>
</tbody>
</table>
</div>
<h3 id="14-1-numpy-dot"><a href="#14-1-numpy-dot" class="headerlink" title="14.1 numpy.dot"></a>14.1 numpy.dot</h3><p><strong>对于一维矩阵</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>])</span><br><span class="line">print(<span class="string">&#x27;对于一维矩阵, numpy.dot() 就是对应元素相乘:\n&#x27;</span>,np.dot(a,b))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对于一维矩阵, numpy.dot() 就是对应元素相乘:</span><br><span class="line"> 140</span><br></pre></td></tr></table></figure>
<p><strong>对于二维矩阵:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]]) </span><br><span class="line">print(<span class="string">&#x27;对于高维矩阵, numpy.dot() 就是矩阵乘法:\n&#x27;</span>,np.dot(a,b))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">对于高维矩阵, numpy.dot() 就是矩阵乘法:</span><br><span class="line"> [[37 40]</span><br><span class="line"> [85 92]]</span><br></pre></td></tr></table></figure>
<h3 id="14-2-numpy-vdot"><a href="#14-2-numpy-vdot" class="headerlink" title="14.2 numpy.vdot"></a>14.2 numpy.vdot</h3><p><strong>无论是一维还是二维数组都是点积</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]]) </span><br><span class="line">print(<span class="string">&#x27;numpy.vdot() 就是点积:\n&#x27;</span>,np.vdot(a,b))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">numpy.vdot() 就是对应元素相乘:</span><br><span class="line"> 130</span><br></pre></td></tr></table></figure>
<h3 id="14-3-numpy-inner"><a href="#14-3-numpy-inner" class="headerlink" title="14.3 numpy.inner"></a>14.3 numpy.inner</h3><p><code>numpy.inner()</code> 函数返回一维数组的向量内积. 对于更高的维度，它返回最后一个轴上的和的乘积. 等同于 <code>numpy.dot(a, b.T)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]]) </span><br><span class="line">print(<span class="string">&#x27;numpy.inner() 向量的内积:\n&#x27;</span>,np.inner(a,b))</span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;等同于 numpy.dot(a,b.T):\n&#x27;</span>,np.dot(a,b.T))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">numpy.inner() 向量的内积:</span><br><span class="line"> [[35 41]</span><br><span class="line"> [81 95]]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">等同于 numpy.dot(a,b.T):</span><br><span class="line"> [[35 41]</span><br><span class="line"> [81 95]]</span><br></pre></td></tr></table></figure>
<h3 id="14-4-numpy-matmul"><a href="#14-4-numpy-matmul" class="headerlink" title="14.4 numpy.matmul"></a>14.4 numpy.matmul</h3><p><code>numpy.matmul</code> 函数返回两个数组的矩阵乘积. 虽然它返回二维数组的正常乘积, 但如果任一参数的维数大于2, 则将其视为存在于最后两个索引的矩阵的栈，并进行相应广播.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> numpy.matlib</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]) </span><br><span class="line">a = np.asmatrix(a)</span><br><span class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]]) </span><br><span class="line">b = np.asmatrix(b)</span><br><span class="line"></span><br><span class="line">print(np.matmul(a,b))</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[37 40]</span><br><span class="line"> [85 92]]</span><br></pre></td></tr></table></figure>
<h3 id="14-5-numpy-linalg-det"><a href="#14-5-numpy-linalg-det" class="headerlink" title="14.5 numpy.linalg.det"></a>14.5 numpy.linalg.det</h3><p>求行列式, 这里暂时就不举例了</p>
<h3 id="14-6-numpy-linalg-solve"><a href="#14-6-numpy-linalg-solve" class="headerlink" title="14.6 numpy.linalg.solve"></a>14.6 numpy.linalg.solve</h3><p>解线性方程组:</p>
<p>$x+2y=3$</p>
<p>$4x+5y=6$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> numpy.matlib</span><br><span class="line"></span><br><span class="line">A = np.matrix(<span class="string">&#x27;1,2;4,5&#x27;</span>)</span><br><span class="line">b = np.matrix(<span class="string">&#x27;3,6&#x27;</span>).T</span><br><span class="line">result = np.linalg.solve(A,b)</span><br><span class="line">print(<span class="string">&#x27;方程组的解为:\n&#x27;</span>,result)</span><br></pre></td></tr></table></figure>
<p>输出结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">方程组的解为:</span><br><span class="line"> [[-1.]</span><br><span class="line"> [ 2.]]</span><br></pre></td></tr></table></figure>
<h3 id="14-7-numpy-linalg-inv"><a href="#14-7-numpy-linalg-inv" class="headerlink" title="14.7 numpy.linalg.inv"></a>14.7 numpy.linalg.inv</h3><p>求逆矩阵, 我暂时不举例子, 对概念不了解可取看我的 MIT Linear Algebra 的笔记.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">阿平</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.facequant.com/2020/08/18/Introduction-to-Numpy/">https://www.facequant.com/2020/08/18/Introduction-to-Numpy/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.facequant.com" target="_blank">阿平的自我修养</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Data/">Data</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/08/09/2sYXwjC1ZRBKmpl.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/18/Introduction-to-Pandas/"><img class="prev-cover" src="https://i.loli.net/2020/08/09/2sYXwjC1ZRBKmpl.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Introduction to Pandas</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/15/MIT-Linear-Algebra-Part-2/"><img class="next-cover" src="https://i.loli.net/2020/08/09/FfVbWqZYmp2xUvw.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MIT Linear Algebra Part 2</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/08/18/Introduction-to-Pandas/" title="Introduction to Pandas"><img class="cover" src="https://i.loli.net/2020/08/09/2sYXwjC1ZRBKmpl.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-18</div><div class="title">Introduction to Pandas</div></div></a></div></div></div></div><div class="aside_content" id="aside_content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-1-Ndarray"><span class="toc-text">Topic 1 Ndarray</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-2-Data-Type"><span class="toc-text">Topic 2 Data Type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-3-Properties-of-Ndarray"><span class="toc-text">Topic 3 Properties of Ndarray</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-4-Array-Creation"><span class="toc-text">Topic 4 Array Creation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-numpy-empty"><span class="toc-text">4.1 numpy.empty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-numpy-zeros"><span class="toc-text">4.2 numpy.zeros</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-numpy-ones"><span class="toc-text">4.3 numpy.ones</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-numpy-eye"><span class="toc-text">4.4 numpy.eye</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-numpy-random-randn"><span class="toc-text">4.5 numpy.random.randn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-numpy-random-rand"><span class="toc-text">4.6 numpy.random.rand</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-numpy-random-randint"><span class="toc-text">4.7 numpy.random.randint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-numpy-asarray"><span class="toc-text">4.8 numpy.asarray</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-numpy-frombuffer"><span class="toc-text">4.9 numpy.frombuffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-numpy-fromiter"><span class="toc-text">4.10 numpy.fromiter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-11-numpy-arange"><span class="toc-text">4.11 numpy.arange</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-numpy-linspace"><span class="toc-text">4.12 numpy.linspace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-numpy-logspace"><span class="toc-text">4.13 numpy.logspace</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-5-Slice-and-Index"><span class="toc-text">Topic 5 Slice and Index</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-Slice"><span class="toc-text">5.1 Slice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-Index"><span class="toc-text">5.2 Index</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-Array-Indexing"><span class="toc-text">5.2.1 Array Indexing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-Bool-Indexing"><span class="toc-text">5.2.2 Bool Indexing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-3-Fancy-Indexing"><span class="toc-text">5.2.3 Fancy Indexing</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-6-Broadcast"><span class="toc-text">Topic 6 Broadcast</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-7-Array-Iteration"><span class="toc-text">Topic 7 Array Iteration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-numpy-nditer"><span class="toc-text">7.1 numpy.nditer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-Iteration-Direction"><span class="toc-text">7.2 Iteration Direction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-Modify-Array"><span class="toc-text">7.3 Modify Array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-Return-New-Array-Through-Iteration"><span class="toc-text">7.4 Return New Array Through Iteration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-Broadcast-Iteration"><span class="toc-text">7.5 Broadcast Iteration</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-8-Array-Operation"><span class="toc-text">Topic 8 Array Operation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-Change-Array-Shape"><span class="toc-text">8.1 Change Array Shape</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-1-numpy-reshape"><span class="toc-text">8.1.1 numpy.reshape</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-2-numpy-ndarray-flat"><span class="toc-text">8.1.2 numpy.ndarray.flat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-3-numpy-ndarray-flatten"><span class="toc-text">8.1.3 numpy.ndarray.flatten</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-1-4-numpy-ravel"><span class="toc-text">8.1.4 numpy.ravel</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-Concatenate-Array"><span class="toc-text">8.2 Concatenate Array</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-1-numpy-concatenate"><span class="toc-text">8.2.1 numpy.concatenate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-2-numpy-stack"><span class="toc-text">8.2.2 numpy.stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-3-numpy-hstack"><span class="toc-text">8.2.3 numpy.hstack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-2-4-numpy-vstack"><span class="toc-text">8.2.4 numpy.vstack</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-Split-Array"><span class="toc-text">8.3 Split Array</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-1-numpy-split"><span class="toc-text">8.3.1 numpy.split</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-2-numpy-hsplit"><span class="toc-text">8.3.2 numpy.hsplit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-3-numpy-vsplit"><span class="toc-text">8.3.3 numpy.vsplit</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-Add-and-Delete-Elements-of-Array"><span class="toc-text">8.4 Add and Delete Elements of Array</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-1-numpy-append"><span class="toc-text">8.4.1 numpy.append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-2-numpy-insert"><span class="toc-text">8.4.2 numpy.insert</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-3-numpy-delete"><span class="toc-text">8.4.3 numpy.delete</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-4-4-numpy-unique"><span class="toc-text">8.4.4 numpy.unique</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-9-Math-Functions"><span class="toc-text">Topic 9 Math Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-Trigonometric-Functions"><span class="toc-text">9.1 Trigonometric Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-numpy-floor"><span class="toc-text">9.2 numpy.floor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-numpy-ceil"><span class="toc-text">9.3 numpy.ceil</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-Arithmatic-Functions"><span class="toc-text">9.4 Arithmatic Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-5-numpy-reciprocal"><span class="toc-text">9.5 numpy.reciprocal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-6-numpy-power"><span class="toc-text">9.6 numpy.power</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-7-numpy-mod"><span class="toc-text">9.7 numpy.mod</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-10-Stat-Functions"><span class="toc-text">Topic 10 Stat Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-numpy-amin-amp-numpy-amax"><span class="toc-text">10.1 numpy.amin &amp; numpy.amax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-numpy-ptp"><span class="toc-text">10.2 numpy.ptp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-numpy-percentile"><span class="toc-text">10.3 numpy.percentile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-4-numpy-mean"><span class="toc-text">10.4 numpy.mean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-5-numpy-average"><span class="toc-text">10.5 numpy.average</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-6-numpy-std-amp-numpy-var"><span class="toc-text">10.6 numpy.std &amp; numpy.var</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-11-Search-amp-Condition-Statements"><span class="toc-text">Topic 11 Search &amp; Condition Statements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-numpy-sort"><span class="toc-text">11.1 numpy.sort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-numpy-argsort"><span class="toc-text">11.2 numpy.argsort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-numpy-lexsort"><span class="toc-text">11.3 numpy.lexsort()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-numpy-argmax-amp-numpy-argmin"><span class="toc-text">11.4 numpy.argmax() &amp; numpy.argmin()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-numpy-nonzero"><span class="toc-text">11.5 numpy.nonzero</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-6-numpy-where"><span class="toc-text">11.6 numpy.where</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-12-Copy-and-View"><span class="toc-text">Topic 12 Copy and View</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-View-ShallowCopy"><span class="toc-text">12.1 View (ShallowCopy)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-Copy-DeepCopy"><span class="toc-text">12.2 Copy (DeepCopy)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-13-Matrix"><span class="toc-text">Topic 13 Matrix</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1-Transpose"><span class="toc-text">13.1 Transpose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-numpy-matlib-empty"><span class="toc-text">13.2 numpy.matlib.empty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-numpy-matlib-zeros"><span class="toc-text">13.3 numpy.matlib.zeros</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-numpy-matlib-ones"><span class="toc-text">13.4 numpy.matlib.ones</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-5-numpy-matlib-eye"><span class="toc-text">13.5 numpy.matlib.eye</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-6-numpy-matlib-identity"><span class="toc-text">13.6 numpy.matlib.identity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-7-numpy-matlib-rand"><span class="toc-text">13.7 numpy.matlib.rand</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-8-numpy-matrix-amp-numpy-asarray-amp-numpy-asmatrix"><span class="toc-text">13.8 numpy.matrix &amp; numpy.asarray &amp; numpy.asmatrix</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topic-14-Linear-Algebra"><span class="toc-text">Topic 14 Linear Algebra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-numpy-dot"><span class="toc-text">14.1 numpy.dot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-numpy-vdot"><span class="toc-text">14.2 numpy.vdot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-3-numpy-inner"><span class="toc-text">14.3 numpy.inner</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-4-numpy-matmul"><span class="toc-text">14.4 numpy.matmul</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-5-numpy-linalg-det"><span class="toc-text">14.5 numpy.linalg.det</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-numpy-linalg-solve"><span class="toc-text">14.6 numpy.linalg.solve</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-7-numpy-linalg-inv"><span class="toc-text">14.7 numpy.linalg.inv</span></a></li></ol></li></ol></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By 阿平</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.spacingElementById('content-inner')
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.spacingElementById('content-inner')
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>